"use strict";exports.id=2541,exports.ids=[2541],exports.modules={31:(a,b,c)=>{c.d(b,{d:()=>s});var d=c(21124),e=c(38301),f=c(33305),g=c(68877),h=c(674),i=c(19217),j=c(22544),k=c(65893),l=c(63091),m=c(71179),n=c(74331),o=c(3991),p=c.n(o),q=c(52681),r=c(42830);function s({open:a,onOpenChange:b,userId:c,initialTab:o="followers"}){let[s,t]=(0,e.useState)([]),[u,v]=(0,e.useState)([]),[w,x]=(0,e.useState)(!1),[y,z]=(0,e.useState)(null);(0,e.useCallback)(async()=>{x(!0);try{let{data:{user:a}}=await q.N.auth.getUser();z(a);let{data:b}=await q.N.from("follows").select(`
          follower_id,
          profiles!follows_follower_id_fkey(*)
        `).eq("following_id",c).eq("status","accepted");b&&t(b.map(a=>a.profiles).filter(Boolean));let{data:d}=await q.N.from("follows").select(`
          following_id,
          profiles!follows_following_id_fkey(*)
        `).eq("follower_id",c).eq("status","accepted");d&&v(d.map(a=>a.profiles).filter(Boolean))}catch(a){console.error("Error loading follow data:",a),r.oR.error("Failed to load data")}finally{x(!1)}},[c]);let A=({user:a})=>{let b=y&&y.id===a.id;return(0,d.jsx)("div",{className:"group hover-lift",children:(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 hover:bg-accent/30 rounded-xl transition-all duration-200 border border-transparent hover:border-border/50",children:[(0,d.jsxs)(p(),{href:`/profile/${a.username}`,className:"flex items-center gap-4 flex-1",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)(h.eu,{className:"h-12 w-12 ring-2 ring-background shadow-sm",children:[(0,d.jsx)(h.BK,{src:a.profile_picture_url}),(0,d.jsxs)(h.q5,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-semibold",children:[a.first_name?.charAt(0),a.last_name?.charAt(0)]})]}),b&&(0,d.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-primary rounded-full border-2 border-background flex items-center justify-center",children:(0,d.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("p",{className:"font-semibold truncate text-foreground",children:[a.first_name," ",a.last_name]}),b&&(0,d.jsx)(j.E,{variant:"secondary",className:"text-xs px-2 py-0.5",children:"You"})]}),(0,d.jsxs)("p",{className:"text-sm text-muted-foreground truncate",children:["@",a.username]}),a.bio&&(0,d.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-1 mt-1 max-w-xs",children:a.bio}),(0,d.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[(0,d.jsxs)("span",{className:"flex items-center gap-1",children:[(0,d.jsx)(k.A,{className:"h-3 w-3"}),a.followers_count||0," followers"]}),(0,d.jsxs)("span",{className:"flex items-center gap-1",children:[(0,d.jsx)(l.A,{className:"h-3 w-3"}),a.following_count||0," following"]})]})]})]}),y&&!b&&(0,d.jsxs)("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,d.jsx)(i.$,{variant:"outline",size:"sm",className:"hover-lift",children:(0,d.jsx)(m.A,{className:"h-3 w-3"})}),(0,d.jsx)(i.$,{size:"sm",className:"hover-lift",children:(0,d.jsx)(n.A,{className:"h-3 w-3"})})]})]})})};return(0,d.jsx)(f.lG,{open:a,onOpenChange:b,children:(0,d.jsxs)(f.Cf,{className:"sm:max-w-lg max-h-[85vh] p-0 bg-background/95 backdrop-blur-xl border-border/50 shadow-2xl",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 via-transparent to-primary/10 rounded-t-lg"}),(0,d.jsx)(f.c7,{className:"px-6 py-4 relative",children:(0,d.jsxs)(f.L3,{className:"flex items-center gap-3 text-lg",children:[(0,d.jsx)("div",{className:"p-2 rounded-xl bg-primary/10",children:(0,d.jsx)(k.A,{className:"h-5 w-5 text-primary"})}),(0,d.jsx)("span",{className:"font-semibold",children:"Connections"})]})})]}),(0,d.jsxs)(g.tU,{defaultValue:o,className:"flex-1 flex flex-col",children:[(0,d.jsxs)(g.j7,{className:"grid w-full grid-cols-2 mx-6 mb-2 bg-muted/50",children:[(0,d.jsxs)(g.Xi,{value:"followers",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:["Followers",(0,d.jsx)(j.E,{variant:"secondary",className:"ml-2 text-xs",children:s.length})]}),(0,d.jsxs)(g.Xi,{value:"following",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:["Following",(0,d.jsx)(j.E,{variant:"secondary",className:"ml-2 text-xs",children:u.length})]})]}),(0,d.jsxs)("div",{className:"flex-1 overflow-hidden",children:[(0,d.jsx)(g.av,{value:"followers",className:"h-full mt-0",children:(0,d.jsx)("div",{className:"max-h-96 overflow-y-auto px-6 pb-6 scrollbar-thin",children:w?(0,d.jsx)("div",{className:"flex justify-center py-12",children:(0,d.jsx)("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):0===s.length?(0,d.jsxs)("div",{className:"text-center py-12 space-y-4",children:[(0,d.jsx)("div",{className:"p-4 rounded-2xl bg-muted/30 inline-block",children:(0,d.jsx)(k.A,{className:"h-12 w-12 text-muted-foreground/50"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-muted-foreground",children:"No followers yet"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground/70 mt-1",children:"Be the first to inspire someone!"})]})]}):(0,d.jsx)("div",{className:"space-y-3",children:s.map(a=>(0,d.jsx)(A,{user:a},a.id))})})}),(0,d.jsx)(g.av,{value:"following",className:"h-full mt-0",children:(0,d.jsx)("div",{className:"max-h-96 overflow-y-auto px-6 pb-6 scrollbar-thin",children:w?(0,d.jsx)("div",{className:"flex justify-center py-12",children:(0,d.jsx)("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):0===u.length?(0,d.jsxs)("div",{className:"text-center py-12 space-y-4",children:[(0,d.jsx)("div",{className:"p-4 rounded-2xl bg-muted/30 inline-block",children:(0,d.jsx)(l.A,{className:"h-12 w-12 text-muted-foreground/50"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-muted-foreground",children:"Not following anyone yet"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground/70 mt-1",children:"Discover amazing goal-setters!"})]})]}):(0,d.jsx)("div",{className:"space-y-3",children:u.map(a=>(0,d.jsx)(A,{user:a},a.id))})})})]})]})]})})}},9739:(a,b,c)=>{c.d(b,{Or:()=>e,Zp:()=>f,rX:()=>g});var d=c(52681);async function e(a,b){try{let c=b||(await d._.getCurrentUser())?.id;if(!c)return null;let{data:e,error:f}=await d.N.from("goal_streaks").select("*").eq("goal_id",a).eq("user_id",c).maybeSingle();if(f)throw f;return e}catch(a){return console.error("Error fetching streak:",a),null}}async function f(){try{let a=await d._.getCurrentUser();if(!a)return[];let{data:b,error:c}=await d.N.from("goal_streaks").select(`
        *,
        goals:goal_id (
          title,
          goal_type,
          category
        )
      `).eq("user_id",a.id).order("current_streak",{ascending:!1});if(c)throw c;return b||[]}catch(a){return console.error("Error fetching user streaks:",a),[]}}async function g(){try{let a=await d._.getCurrentUser();if(!a)return null;let{data:b,error:c}=await d.N.from("user_streak_stats").select("*").eq("user_id",a.id).maybeSingle();if(c)throw c;return b}catch(a){return console.error("Error fetching streak stats:",a),null}}},32801:(a,b,c)=>{c.d(b,{R:()=>l});var d=c(21124),e=c(19217),f=c(7629),g=c(53199),h=c(9149),i=c(60210),j=c(71179),k=c(15982);function l({profile:a,isEditing:b=!1,onChange:c}){let l=[{key:"instagram",label:"Instagram",icon:h.A,placeholder:"@username",value:a.instagram||""},{key:"twitter",label:"Twitter/X",icon:i.A,placeholder:"@username",value:a.twitter||""},{key:"snapchat",label:"Snapchat",icon:j.A,placeholder:"@username",value:a.snapchat||""},{key:"email",label:"Email",icon:k.A,placeholder:"email@example.com",value:a.email||""}];if(b)return(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("h3",{className:"text-sm font-medium",children:"Social Links"}),(0,d.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:l.map(a=>{let b=a.icon;return(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)(g.J,{htmlFor:a.key,className:"flex items-center gap-2 text-sm",children:[(0,d.jsx)(b,{className:"h-4 w-4"}),a.label]}),(0,d.jsx)(f.p,{id:a.key,placeholder:a.placeholder,value:a.value,onChange:b=>c?.(a.key,b.target.value)})]},a.key)})})]});let m=l.filter(a=>a.value&&"email"!==a.key);return 0===m.length?null:(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:m.map(a=>{let b=a.icon;return(0,d.jsx)(e.$,{variant:"outline",size:"icon",asChild:!0,className:"h-9 w-9",title:a.label,children:(0,d.jsx)("a",{href:(()=>{switch(a.key){case"instagram":return`https://instagram.com/${a.value.replace("@","")}`;case"twitter":return`https://twitter.com/${a.value.replace("@","")}`;case"snapchat":return`https://snapchat.com/add/${a.value.replace("@","")}`;default:return"#"}})(),target:"_blank",rel:"noopener noreferrer",children:(0,d.jsx)(b,{className:"h-4 w-4"})})},a.key)})})}},33305:(a,b,c)=>{c.d(b,{Cf:()=>l,L3:()=>n,c7:()=>m,lG:()=>h,rr:()=>o,zM:()=>i});var d=c(21124);c(38301);var e=c(39641),f=c(47089),g=c(15514);function h({...a}){return(0,d.jsx)(e.bL,{"data-slot":"dialog",...a})}function i({...a}){return(0,d.jsx)(e.l9,{"data-slot":"dialog-trigger",...a})}function j({...a}){return(0,d.jsx)(e.ZL,{"data-slot":"dialog-portal",...a})}function k({className:a,...b}){return(0,d.jsx)(e.hJ,{"data-slot":"dialog-overlay",className:(0,g.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function l({className:a,children:b,showCloseButton:c=!0,...h}){return(0,d.jsxs)(j,{"data-slot":"dialog-portal",children:[(0,d.jsx)(k,{}),(0,d.jsxs)(e.UC,{"data-slot":"dialog-content",className:(0,g.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...h,children:[b,c&&(0,d.jsxs)(e.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,d.jsx)(f.A,{}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"dialog-header",className:(0,g.cn)("flex flex-col gap-2 text-center sm:text-left",a),...b})}function n({className:a,...b}){return(0,d.jsx)(e.hE,{"data-slot":"dialog-title",className:(0,g.cn)("text-lg leading-none font-semibold",a),...b})}function o({className:a,...b}){return(0,d.jsx)(e.VY,{"data-slot":"dialog-description",className:(0,g.cn)("text-muted-foreground text-sm",a),...b})}},45119:(a,b,c)=>{c.d(b,{BT:()=>i,Wu:()=>j,ZB:()=>h,Zp:()=>f,aR:()=>g});var d=c(21124);c(38301);var e=c(15514);function f({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card",className:(0,e.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...b})}function g({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-header",className:(0,e.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...b})}function h({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-title",className:(0,e.cn)("leading-none font-semibold",a),...b})}function i({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-description",className:(0,e.cn)("text-muted-foreground text-sm",a),...b})}function j({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-content",className:(0,e.cn)("px-6",a),...b})}},53199:(a,b,c)=>{c.d(b,{J:()=>g});var d=c(21124);c(38301);var e=c(46029),f=c(15514);function g({className:a,...b}){return(0,d.jsx)(e.b,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...b})}},58971:(a,b,c)=>{c.d(b,{p:()=>q});var d=c(21124),e=c(38301),f=c(24515),g=c(19217),h=c(33305),i=c(7629),j=c(30029),k=c(71613),l=c(10708),m=c(60210),n=c(31905),o=c(71179),p=c(42830);function q({username:a,displayName:b,profilePicture:c}){let[q,r]=(0,e.useState)(!1),s=`${window.location.origin}/profile/${a}`,t=async()=>{try{await navigator.clipboard.writeText(s),r(!0),p.oR.success("Profile link copied!"),setTimeout(()=>r(!1),2e3)}catch(a){p.oR.error("Failed to copy link")}};return(0,d.jsxs)(h.lG,{children:[(0,d.jsx)(h.zM,{asChild:!0,children:(0,d.jsxs)(g.$,{variant:"outline",size:"sm",children:[(0,d.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Share Profile"]})}),(0,d.jsxs)(h.Cf,{className:"sm:max-w-md",children:[(0,d.jsx)(h.c7,{children:(0,d.jsxs)(h.L3,{className:"flex items-center gap-3",children:[c&&(0,d.jsx)(f.default,{src:c,alt:b,width:32,height:32,className:"w-8 h-8 rounded-full"}),"Share ",b,"'s Profile"]})}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(i.p,{value:s,readOnly:!0}),(0,d.jsx)(g.$,{size:"sm",onClick:t,children:q?(0,d.jsx)(k.A,{className:"h-4 w-4"}):(0,d.jsx)(l.A,{className:"h-4 w-4"})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,d.jsxs)(g.$,{variant:"outline",onClick:()=>{let a=`Check out ${b}'s goals on Commitly!`,c=`https://twitter.com/intent/tweet?text=${encodeURIComponent(a)}&url=${encodeURIComponent(s)}`;window.open(c,"_blank")},className:"flex flex-col gap-1 h-auto py-3",children:[(0,d.jsx)(m.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{className:"text-xs",children:"Twitter"})]}),(0,d.jsxs)(g.$,{variant:"outline",onClick:()=>{let a=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(s)}`;window.open(a,"_blank")},className:"flex flex-col gap-1 h-auto py-3",children:[(0,d.jsx)(n.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{className:"text-xs",children:"Facebook"})]}),(0,d.jsxs)(g.$,{variant:"outline",onClick:()=>{let a=`Check out ${b}'s goals on Commitly! ${s}`,c=`https://wa.me/?text=${encodeURIComponent(a)}`;window.open(c,"_blank")},className:"flex flex-col gap-1 h-auto py-3",children:[(0,d.jsx)(o.A,{className:"h-5 w-5"}),(0,d.jsx)("span",{className:"text-xs",children:"WhatsApp"})]})]})]})]})]})}},68877:(a,b,c)=>{c.d(b,{Xi:()=>i,av:()=>j,j7:()=>h,tU:()=>g});var d=c(21124);c(38301);var e=c(89989),f=c(15514);function g({className:a,...b}){return(0,d.jsx)(e.bL,{"data-slot":"tabs",className:(0,f.cn)("flex flex-col gap-2",a),...b})}function h({className:a,...b}){return(0,d.jsx)(e.B8,{"data-slot":"tabs-list",className:(0,f.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",a),...b})}function i({className:a,...b}){return(0,d.jsx)(e.l9,{"data-slot":"tabs-trigger",className:(0,f.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...b})}function j({className:a,...b}){return(0,d.jsx)(e.UC,{"data-slot":"tabs-content",className:(0,f.cn)("flex-1 outline-none",a),...b})}}};