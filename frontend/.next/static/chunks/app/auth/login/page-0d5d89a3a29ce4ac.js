(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4859],{6132:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},20063:(e,t,a)=>{"use strict";var s=a(47260);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},23664:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},30814:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},37649:(e,t,a)=>{Promise.resolve().then(a.bind(a,60886))},42855:(e,t,a)=>{"use strict";a.d(t,{N:()=>s,_:()=>r});let s=(0,a(78760).createClientComponentClient)(),r={signUp:async(e,t,a)=>{let{data:r,error:l}=await s.auth.signUp({email:e,password:t,options:{data:{full_name:a}}});if(l)throw l;return r},signIn:async(e,t)=>{let{data:a,error:r}=await s.auth.signInWithPassword({email:e,password:t});if(r)throw r;return a},signOut:async()=>{await s.auth.signOut()},signInWithGoogle:async()=>{let{data:e,error:t}=await s.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}});if(t)throw t;return e},getCurrentUser:async()=>{let{data:{user:e}}=await s.auth.getUser();return e},getSession:async()=>{let{data:{session:e}}=await s.auth.getSession();return e},hasCompletedKyc:async()=>{let e=await r.getCurrentUser();if(!e)return!1;let{data:t}=await s.from("profiles").select("has_completed_kyc").eq("id",e.id).maybeSingle();return(null==t?void 0:t.has_completed_kyc)===!0},clearSession:async()=>{await s.auth.signOut()},resetPassword:async e=>{let{error:t}=await s.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/auth/reset-password/confirm")});if(t)throw t}}},57828:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},60886:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var s=a(95155),r=a(12115),l=a(30814),i=a(6132),o=a(23664),n=a(99708),c=a(70532),d=a(57828),u=a(66721),h=a(52619),m=a.n(h),x=a(20063),g=a(18720),w=a(42855);function p(){let[e,t]=(0,r.useState)(""),[a,h]=(0,r.useState)(""),[p,b]=(0,r.useState)(!1),[f,y]=(0,r.useState)(!1),[v,j]=(0,r.useState)(!1),[N,S]=(0,r.useState)(!1),k=(0,x.useRouter)(),D=(0,x.useSearchParams)();(0,r.useEffect)(()=>{let e=D.get("error");e&&g.oR.error(decodeURIComponent(e))},[D]),(0,r.useEffect)(()=>{j(!0)},[]);let A=async t=>{t.preventDefault(),b(!0);try{let{user:t}=await w._.signIn(e,a);if(!t)throw Error("Login failed");let s=await w._.hasCompletedKyc();g.oR.success("Welcome back!"),await w.N.auth.refreshSession(),await new Promise(e=>setTimeout(e,500)),s?k.push("/dashboard"):k.push("/auth/kyc")}catch(e){var s,r;console.error("Login error:",e),(null==(s=e.message)?void 0:s.includes("Invalid login credentials"))?g.oR.error("Invalid email or password"):(null==(r=e.message)?void 0:r.includes("Email not confirmed"))?g.oR.error("Please verify your email address before logging in"):g.oR.error("Failed to login. Please try again.")}finally{b(!1)}},I=async()=>{try{await w._.signInWithGoogle()}catch(e){throw console.error("Google login error:",e),e}},O=async()=>{await new Promise(e=>setTimeout(e,800)),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("currentUser",JSON.stringify({id:"mock-google-user-id",email:"google.user@gmail.com",name:"Google User",avatar:null})),g.oR.success("Google login successful!"),k.push("/dashboard")},_=async()=>{b(!0);try{v?await I():await O()}catch(r){var e,t,a,s;console.error("Google login error:",r),(null==(e=r.message)?void 0:e.includes("not configured"))?g.oR.error(r.message):(null==(t=r.message)?void 0:t.includes("provider is not enabled"))||(null==(a=r.message)?void 0:a.includes("Unsupported provider"))||(null==(s=r.message)?void 0:s.includes("Google OAuth is not enabled"))?g.oR.error("Google Sign-In is not configured. Please use email/password login instead.",{description:"Contact the administrator to enable Google OAuth in Supabase settings."}):g.oR.error("Failed to login with Google"),b(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0 opacity-30",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_20%_50%,rgba(120,119,198,0.3),transparent_50%)]"}),(0,s.jsx)("div",{className:"absolute bottom-0 right-0 w-full h-full bg-[radial-gradient(circle_at_80%_20%,rgba(255,119,198,0.15),transparent_50%)]"}),(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-full blur-3xl"})]}),(0,s.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,s.jsx)("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-blue-400/60 rounded-full animate-pulse"}),(0,s.jsx)("div",{className:"absolute top-1/3 right-1/3 w-3 h-3 bg-cyan-400/40 rounded-full animate-pulse delay-1000"}),(0,s.jsx)("div",{className:"absolute bottom-1/3 left-1/3 w-1.5 h-1.5 bg-indigo-400/70 rounded-full animate-pulse delay-500"}),(0,s.jsx)("div",{className:"absolute top-2/3 right-1/4 w-2.5 h-2.5 bg-purple-400/50 rounded-full animate-pulse delay-1500"})]}),(0,s.jsx)("div",{className:"relative min-h-screen flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsxs)("div",{className:"relative inline-block mb-6",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl blur-xl opacity-50 animate-pulse"}),(0,s.jsx)("div",{className:"relative bg-white/10 backdrop-blur-2xl rounded-2xl p-6 border border-white/20 shadow-2xl",children:(0,s.jsx)(l.A,{className:"h-12 w-12 text-white drop-shadow-lg mx-auto"})})]}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),(0,s.jsx)("p",{className:"text-slate-300 text-sm",children:"Sign in to continue your journey"}),!v&&(0,s.jsxs)("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-amber-500/20 border border-amber-400/30 rounded-full text-sm text-amber-200 backdrop-blur-sm",children:[(0,s.jsx)(i.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"font-medium",children:"Demo Mode"})]})]}),(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-2xl rounded-3xl p-8 border border-white/20 shadow-2xl",children:[(0,s.jsxs)("form",{onSubmit:A,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{htmlFor:"email",className:"text-sm font-medium text-white/90 flex items-center gap-2",children:[(0,s.jsx)(o.A,{className:"h-4 w-4"}),"Email"]}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{id:"email",type:"email",placeholder:"your@email.com",value:e,onChange:e=>t(e.target.value),className:"w-full h-12 pl-4 pr-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent backdrop-blur-sm transition-all duration-200",required:!0})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{htmlFor:"password",className:"text-sm font-medium text-white/90 flex items-center gap-2",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),"Password"]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{id:"password",type:f?"text":"password",placeholder:"Enter your password",value:a,onChange:e=>h(e.target.value),className:"w-full h-12 pl-4 pr-12 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent backdrop-blur-sm transition-all duration-200",required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>y(!f),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/70 hover:text-white transition-colors",children:f?(0,s.jsx)(c.A,{className:"h-4 w-4"}):(0,s.jsx)(d.A,{className:"h-4 w-4"})})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(m(),{href:"/auth/reset-password",className:"text-sm text-blue-300 hover:text-blue-200 transition-colors",children:"Forgot password?"})}),(0,s.jsx)("button",{type:"submit",disabled:p,className:"w-full h-12 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:p?(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing in..."]}):(0,s.jsx)("span",{children:"Sign In"})}),v&&N&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"relative my-6",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-white/20"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-4 bg-transparent text-white/60",children:"or continue with"})})]}),(0,s.jsxs)("button",{type:"button",onClick:_,disabled:p,className:"w-full h-12 bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl text-white font-medium transition-all duration-200 flex items-center justify-center gap-3 backdrop-blur-sm",children:[(0,s.jsx)(u.A,{className:"h-5 w-5"}),"Google"]})]})]}),(0,s.jsx)("div",{className:"mt-8 text-center",children:(0,s.jsxs)("p",{className:"text-white/70 text-sm",children:["New to Commitly?"," ",(0,s.jsx)(m(),{href:"/auth/signup",className:"text-blue-300 hover:text-blue-200 font-medium transition-colors",children:"Create account"})]})})]}),(0,s.jsx)("div",{className:"text-center mt-8 space-y-2",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-4 text-xs text-white/50",children:[(0,s.jsx)("span",{children:"\uD83D\uDD12 Secure"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{children:"⚡ Fast"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{children:"\uD83C\uDFAF Focused"})]})})]})})]})}new Date(Date.now()-12096e5).toISOString(),new Date().toISOString(),new Date(Date.now()-7776e6).toISOString(),new Date().toISOString(),new Date(Date.now()+1728e7).toISOString(),new Date(Date.now()-5184e6).toISOString(),new Date(Date.now()-6048e5).toISOString(),new Date(Date.now()-6048e5).toISOString(),new Date(Date.now()-31536e6).toISOString(),new Date().toISOString(),new Date(Date.now()-72e5).toISOString(),new Date(Date.now()-18e6).toISOString(),new Date(Date.now()-864e5).toISOString()},66721:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]])},70532:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},99708:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{e.O(0,[297,8760,8720,8441,1255,7358],()=>e(e.s=37649)),_N_E=e.O()}]);