(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3730],{1582:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var r=a(95155),s=a(12115),n=a(20063),i=a(42855);function o(){let e=(0,n.useRouter)();return(0,s.useEffect)(()=>{(async()=>{try{await i._.clearSession(),e.push("/auth/login")}catch(t){console.error("Error clearing session:",t),e.push("/auth/login")}})()},[e]),(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{children:"Clearing session..."})]})})}},20063:(e,t,a)=>{"use strict";var r=a(47260);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},42855:(e,t,a)=>{"use strict";a.d(t,{N:()=>r,_:()=>s});let r=(0,a(78760).createClientComponentClient)(),s={signUp:async(e,t,a)=>{let{data:s,error:n}=await r.auth.signUp({email:e,password:t,options:{data:{full_name:a}}});if(n)throw n;return s},signIn:async(e,t)=>{let{data:a,error:s}=await r.auth.signInWithPassword({email:e,password:t});if(s)throw s;return a},signOut:async()=>{await r.auth.signOut()},signInWithGoogle:async()=>{let{data:e,error:t}=await r.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}});if(t)throw t;return e},getCurrentUser:async()=>{let{data:{user:e}}=await r.auth.getUser();return e},getSession:async()=>{let{data:{session:e}}=await r.auth.getSession();return e},hasCompletedKyc:async()=>{let e=await s.getCurrentUser();if(!e)return!1;let{data:t}=await r.from("profiles").select("has_completed_kyc").eq("id",e.id).maybeSingle();return(null==t?void 0:t.has_completed_kyc)===!0},clearSession:async()=>{await r.auth.signOut()},resetPassword:async e=>{let{error:t}=await r.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/auth/reset-password/confirm")});if(t)throw t}}},66224:(e,t,a)=>{Promise.resolve().then(a.bind(a,1582))}},e=>{e.O(0,[8760,8441,1255,7358],()=>e(e.s=66224)),_N_E=e.O()}]);