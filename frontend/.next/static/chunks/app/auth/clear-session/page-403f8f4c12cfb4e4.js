(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3730],{1582:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(95155),r=a(12115),n=a(20063),i=a(42855);function o(){let e=(0,n.useRouter)();return(0,r.useEffect)(()=>{(async()=>{try{await i._.clearSession(),e.push("/auth/login")}catch(t){console.error("Error clearing session:",t),e.push("/auth/login")}})()},[e]),(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{children:"Clearing session..."})]})})}},20063:(e,t,a)=>{"use strict";var s=a(47260);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},42855:(e,t,a)=>{"use strict";a.d(t,{N:()=>s,_:()=>r});let s=(0,a(78760).createClientComponentClient)(),r={signUp:async(e,t,a)=>{let{data:r,error:n}=await s.auth.signUp({email:e,password:t,options:{data:{full_name:a}}});if(n)throw n;return r},signIn:async(e,t)=>{let{data:a,error:r}=await s.auth.signInWithPassword({email:e,password:t});if(r)throw r;return a},signOut:async()=>{await s.auth.signOut()},signInWithGoogle:async()=>{let{data:e,error:t}=await s.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}});if(t)throw t;return e},getCurrentUser:async()=>{let{data:{user:e}}=await s.auth.getUser();return e},getSession:async()=>{let{data:{session:e}}=await s.auth.getSession();return e},hasCompletedKyc:async()=>{let e=await r.getCurrentUser();if(!e)return!1;let{data:t}=await s.from("profiles").select("has_completed_kyc").eq("id",e.id).maybeSingle();return(null==t?void 0:t.has_completed_kyc)===!0},clearSession:async()=>{await s.auth.signOut()},resetPassword:async e=>{let{error:t}=await s.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/auth/reset-password/confirm")});if(t)throw t},updatePassword:async e=>{let{error:t}=await s.auth.updateUser({password:e});if(t)throw t}}},66224:(e,t,a)=>{Promise.resolve().then(a.bind(a,1582))}},e=>{e.O(0,[8760,8441,1255,7358],()=>e(e.s=66224)),_N_E=e.O()}]);