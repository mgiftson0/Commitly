(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5885],{7235:(e,s,t)=>{"use strict";t.d(s,{d:()=>l});var a=t(95155);t(12115);var i=t(27599),r=t(25016);function l(e){let{className:s,...t}=e;return(0,a.jsx)(i.bL,{"data-slot":"switch",className:(0,r.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:(0,a.jsx)(i.zi,{"data-slot":"switch-thumb",className:(0,r.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}},10489:(e,s,t)=>{"use strict";t.d(s,{b:()=>n});var a=t(12115),i=t(97602),r=t(95155),l=a.forwardRef((e,s)=>(0,r.jsx)(i.sG.label,{...e,ref:s,onMouseDown:s=>{var t;s.target.closest("button, input, select, textarea")||(null==(t=e.onMouseDown)||t.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var n=l},13717:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var a=t(95155),i=t(12115),r=t(97003),l=t(83209),n=t(7235),c=t(90235),o=t(47507),d=t(54664),u=t(17910),h=t(35626),x=t(57828),m=t(39068),p=t(91169),f=t(99708),g=t(52619),v=t.n(g),y=t(18720),j=t(19885);function b(){let[e,s]=(0,i.useState)({profileVisibility:"public",goalVisibility:"private",showStreaks:!0,showAchievements:!0,showProgress:!0,allowPartnerRequests:!0,showOnlineStatus:!0,dataCollection:!0,analytics:!1,notifications:!0}),[t,g]=(0,i.useState)(!0),[b,w]=(0,i.useState)(!1);(0,i.useEffect)(()=>{N()},[]);let N=()=>{try{let e=localStorage.getItem("privacySettings");e&&s(JSON.parse(e))}catch(e){console.error("Failed to load privacy settings:",e)}g(!1)},k=async()=>{w(!0);try{localStorage.setItem("privacySettings",JSON.stringify(e));let s=JSON.parse(localStorage.getItem("userProfiles")||"[]"),t=s.findIndex(e=>"mock-user-id"===e.id);-1!==t&&(s[t].visibility={profileVisibility:e.profileVisibility,showStreaks:e.showStreaks,showAchievements:e.showAchievements,showProgress:e.showProgress,showFollowers:e.allowPartnerRequests,showFollowing:e.showOnlineStatus,showGoals:!0},localStorage.setItem("userProfiles",JSON.stringify(s)));let a=localStorage.getItem("kycData");if(a){let s=JSON.parse(a);s.profileVisibility=e.profileVisibility,localStorage.setItem("kycData",JSON.stringify(s))}let i=JSON.parse(localStorage.getItem("goals")||"[]");"public"!==e.goalVisibility&&(i.forEach(s=>{"public"===s.visibility&&(s.visibility="friends"===e.goalVisibility?"restricted":e.goalVisibility)}),localStorage.setItem("goals",JSON.stringify(i)),window.dispatchEvent(new CustomEvent("goalUpdated"))),y.oR.success("Privacy settings saved successfully!")}catch(e){y.oR.error("Failed to save privacy settings")}w(!1)},S=(e,t)=>{s(s=>({...s,[e]:t}))};return t?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(u.A,{className:"h-12 w-12 text-blue-600 animate-pulse"})}):(0,a.jsx)(j.O,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(v(),{href:"/settings",children:(0,a.jsxs)(r.$,{variant:"ghost",size:"sm",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Back to Settings"]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Privacy & Visibility"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Control who can see your information and activities"})]})]}),(0,a.jsxs)("div",{className:"grid gap-6 max-w-4xl",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-5 w-5"}),"Profile Visibility"]}),(0,a.jsx)(l.BT,{children:"Control who can see your profile information"})]}),(0,a.jsxs)(l.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{children:"Profile Visibility"}),(0,a.jsxs)(o.l6,{value:e.profileVisibility,onValueChange:e=>S("profileVisibility",e),children:[(0,a.jsx)(o.bq,{children:(0,a.jsx)(o.yv,{})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"public",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),"Public - Anyone can see your profile"]})}),(0,a.jsx)(o.eb,{value:"friends",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),"Friends Only - Only your partners can see"]})}),(0,a.jsx)(o.eb,{value:"private",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),"Private - Only you can see"]})})]})]})]}),(0,a.jsx)(d.w,{}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{children:"Show Streaks"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Display your streak information on your profile"})]}),(0,a.jsx)(n.d,{checked:e.showStreaks,onCheckedChange:e=>S("showStreaks",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{children:"Show Achievements"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Display your badges and achievements"})]}),(0,a.jsx)(n.d,{checked:e.showAchievements,onCheckedChange:e=>S("showAchievements",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{children:"Show Progress"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Display your goal completion statistics"})]}),(0,a.jsx)(n.d,{checked:e.showProgress,onCheckedChange:e=>S("showProgress",e)})]})]})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"h-5 w-5"}),"Goal Privacy"]}),(0,a.jsx)(l.BT,{children:"Set default visibility for your goals"})]}),(0,a.jsx)(l.Wu,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{children:"Default Goal Visibility"}),(0,a.jsxs)(o.l6,{value:e.goalVisibility,onValueChange:e=>S("goalVisibility",e),children:[(0,a.jsx)(o.bq,{children:(0,a.jsx)(o.yv,{})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"public",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),"Public - Anyone can see your goals"]})}),(0,a.jsx)(o.eb,{value:"friends",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),"Partners Only - Only accountability partners"]})}),(0,a.jsx)(o.eb,{value:"private",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),"Private - Only you can see"]})})]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"This will be the default visibility for new goals. You can change individual goal visibility when creating them."})]})})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-5 w-5"}),"Social Settings"]}),(0,a.jsx)(l.BT,{children:"Control social interactions and partner requests"})]}),(0,a.jsxs)(l.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{children:"Allow Partner Requests"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Let others send you accountability partner requests"})]}),(0,a.jsx)(n.d,{checked:e.allowPartnerRequests,onCheckedChange:e=>S("allowPartnerRequests",e)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{children:"Show Online Status"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Let partners see when you are active"})]}),(0,a.jsx)(n.d,{checked:e.showOnlineStatus,onCheckedChange:e=>S("showOnlineStatus",e)})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(r.$,{onClick:k,disabled:b,children:b?"Saving...":"Save Privacy Settings"})})]})]})})}},17910:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},27599:(e,s,t)=>{"use strict";t.d(s,{bL:()=>w,zi:()=>N});var a=t(12115),i=t(92556),r=t(94446),l=t(3468),n=t(23558),c=t(78108),o=t(84288),d=t(97602),u=t(95155),h="Switch",[x,m]=(0,l.A)(h),[p,f]=x(h),g=a.forwardRef((e,s)=>{let{__scopeSwitch:t,name:l,checked:c,defaultChecked:o,required:x,disabled:m,value:f="on",onCheckedChange:g,form:v,...y}=e,[w,N]=a.useState(null),k=(0,r.s)(s,e=>N(e)),S=a.useRef(!1),A=!w||v||!!w.closest("form"),[P,C]=(0,n.i)({prop:c,defaultProp:null!=o&&o,onChange:g,caller:h});return(0,u.jsxs)(p,{scope:t,checked:P,disabled:m,children:[(0,u.jsx)(d.sG.button,{type:"button",role:"switch","aria-checked":P,"aria-required":x,"data-state":b(P),"data-disabled":m?"":void 0,disabled:m,value:f,...y,ref:k,onClick:(0,i.mK)(e.onClick,e=>{C(e=>!e),A&&(S.current=e.isPropagationStopped(),S.current||e.stopPropagation())})}),A&&(0,u.jsx)(j,{control:w,bubbles:!S.current,name:l,value:f,checked:P,required:x,disabled:m,form:v,style:{transform:"translateX(-100%)"}})]})});g.displayName=h;var v="SwitchThumb",y=a.forwardRef((e,s)=>{let{__scopeSwitch:t,...a}=e,i=f(v,t);return(0,u.jsx)(d.sG.span,{"data-state":b(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s})});y.displayName=v;var j=a.forwardRef((e,s)=>{let{__scopeSwitch:t,control:i,checked:l,bubbles:n=!0,...d}=e,h=a.useRef(null),x=(0,r.s)(h,s),m=(0,c.Z)(l),p=(0,o.X)(i);return a.useEffect(()=>{let e=h.current;if(!e)return;let s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(m!==l&&s){let t=new Event("click",{bubbles:n});s.call(e,l),e.dispatchEvent(t)}},[m,l,n]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l,...d,tabIndex:-1,ref:x,style:{...d.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function b(e){return e?"checked":"unchecked"}j.displayName="SwitchBubbleInput";var w=g,N=y},35626:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},39068:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},47507:(e,s,t)=>{"use strict";t.d(s,{bq:()=>u,eb:()=>x,gC:()=>h,l6:()=>o,yv:()=>d});var a=t(95155);t(12115);var i=t(98229),r=t(24033),l=t(5917),n=t(12108),c=t(25016);function o(e){let{...s}=e;return(0,a.jsx)(i.bL,{"data-slot":"select",...s})}function d(e){let{...s}=e;return(0,a.jsx)(i.WT,{"data-slot":"select-value",...s})}function u(e){let{className:s,size:t="default",children:l,...n}=e;return(0,a.jsxs)(i.l9,{"data-slot":"select-trigger","data-size":t,className:(0,c.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...n,children:[l,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(r.A,{className:"size-4 opacity-50"})})]})}function h(e){let{className:s,children:t,position:r="popper",...l}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{"data-slot":"select-content",className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...l,children:[(0,a.jsx)(m,{}),(0,a.jsx)(i.LM,{className:(0,c.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(p,{})]})})}function x(e){let{className:s,children:t,...r}=e;return(0,a.jsxs)(i.q7,{"data-slot":"select-item",className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(l.A,{className:"size-4"})})}),(0,a.jsx)(i.p4,{children:t})]})}function m(e){let{className:s,...t}=e;return(0,a.jsx)(i.PP,{"data-slot":"select-scroll-up-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(n.A,{className:"size-4"})})}function p(e){let{className:s,...t}=e;return(0,a.jsx)(i.wn,{"data-slot":"select-scroll-down-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(r.A,{className:"size-4"})})}},57828:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},75221:(e,s,t)=>{Promise.resolve().then(t.bind(t,13717))},83209:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>n,Zp:()=>r,aR:()=>l});var a=t(95155);t(12115);var i=t(25016);function r(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,i.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function l(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,i.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function n(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,i.cn)("leading-none font-semibold",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,i.cn)("text-muted-foreground text-sm",s),...t})}function o(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,i.cn)("px-6",s),...t})}},90235:(e,s,t)=>{"use strict";t.d(s,{J:()=>l});var a=t(95155);t(12115);var i=t(10489),r=t(25016);function l(e){let{className:s,...t}=e;return(0,a.jsx)(i.b,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}},99708:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{e.O(0,[297,5707,8760,1370,3224,6227,8720,7928,9885,8441,1255,7358],()=>e(e.s=75221)),_N_E=e.O()}]);