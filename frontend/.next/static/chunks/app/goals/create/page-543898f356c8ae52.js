(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1658],{17982:(e,s,t)=>{"use strict";t.d(s,{C:()=>c,z:()=>n});var a=t(95155);t(12115);var l=t(24058),r=t(99051),i=t(25016);function n(e){let{className:s,...t}=e;return(0,a.jsx)(l.bL,{"data-slot":"radio-group",className:(0,i.cn)("grid gap-3",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)(l.q7,{"data-slot":"radio-group-item",className:(0,i.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:(0,a.jsx)(l.C1,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,a.jsx)(r.A,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}},47507:(e,s,t)=>{"use strict";t.d(s,{bq:()=>m,eb:()=>u,gC:()=>x,l6:()=>d,yv:()=>o});var a=t(95155);t(12115);var l=t(98229),r=t(24033),i=t(5917),n=t(12108),c=t(25016);function d(e){let{...s}=e;return(0,a.jsx)(l.bL,{"data-slot":"select",...s})}function o(e){let{...s}=e;return(0,a.jsx)(l.WT,{"data-slot":"select-value",...s})}function m(e){let{className:s,size:t="default",children:i,...n}=e;return(0,a.jsxs)(l.l9,{"data-slot":"select-trigger","data-size":t,className:(0,c.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...n,children:[i,(0,a.jsx)(l.In,{asChild:!0,children:(0,a.jsx)(r.A,{className:"size-4 opacity-50"})})]})}function x(e){let{className:s,children:t,position:r="popper",...i}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsxs)(l.UC,{"data-slot":"select-content",className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...i,children:[(0,a.jsx)(h,{}),(0,a.jsx)(l.LM,{className:(0,c.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(p,{})]})})}function u(e){let{className:s,children:t,...r}=e;return(0,a.jsxs)(l.q7,{"data-slot":"select-item",className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(i.A,{className:"size-4"})})}),(0,a.jsx)(l.p4,{children:t})]})}function h(e){let{className:s,...t}=e;return(0,a.jsx)(l.PP,{"data-slot":"select-scroll-up-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(n.A,{className:"size-4"})})}function p(e){let{className:s,...t}=e;return(0,a.jsx)(l.wn,{"data-slot":"select-scroll-down-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(r.A,{className:"size-4"})})}},54679:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>m,L3:()=>u,c7:()=>x,lG:()=>n,rr:()=>h,zM:()=>c});var a=t(95155);t(12115);var l=t(89511),r=t(65229),i=t(25016);function n(e){let{...s}=e;return(0,a.jsx)(l.bL,{"data-slot":"dialog",...s})}function c(e){let{...s}=e;return(0,a.jsx)(l.l9,{"data-slot":"dialog-trigger",...s})}function d(e){let{...s}=e;return(0,a.jsx)(l.ZL,{"data-slot":"dialog-portal",...s})}function o(e){let{className:s,...t}=e;return(0,a.jsx)(l.hJ,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function m(e){let{className:s,children:t,showCloseButton:n=!0,...c}=e;return(0,a.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,a.jsx)(o,{}),(0,a.jsxs)(l.UC,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...c,children:[t,n&&(0,a.jsxs)(l.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(r.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function x(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",s),...t})}function u(e){let{className:s,...t}=e;return(0,a.jsx)(l.hE,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",s),...t})}function h(e){let{className:s,...t}=e;return(0,a.jsx)(l.VY,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",s),...t})}},54965:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>G});var a=t(95155),l=t(12115),r=t(97003),i=t(33789),n=t(90235),c=t(67001),d=t(83209),o=t(47507),m=t(17982),x=t(84916),u=t(55850),h=t(67812),p=t(54679),g=t(95740),f=t(30814),v=t(64982),j=t(47937),b=t(29633),N=t(83457),y=t(35626),w=t(91169),k=t(65229),C=t(61362),S=t(16485),_=t(8198),A=t(6191),z=t(99708),T=t(39068),D=t(56154),P=t(17666),J=t(52619),q=t.n(J),F=t(20063),E=t(18720),R=t(19885),W=t(42855);let M=[{id:"grp-1",title:"Creators Circle: 12-Week Content Sprint",summary:"Let’s drop one polished video every week and ship the analytics recap on Fridays.",timeframe:"Mar 1 – May 24 | Weekly sync on Fridays",tone:"Motivating, high-energy",callToAction:"Who’s ready to lock the first storyboard?",goalType:"multi-activity"},{id:"grp-2",title:"Wellness Wave Squad",summary:"We’re turning hydration into a team sport—log each check-in before 8pm.",timeframe:"Daily nudges | 30-day streak goal",tone:"Supportive, upbeat",callToAction:"Drop a ✅ once your bottle hits halfway!",goalType:"check-in"},{id:"grp-3",title:"Design Studio Jam",summary:"Tabs open, Figma ready—let’s stagger deliverables so we keep shipping.",timeframe:"Wednesdays | 6-week sprint",tone:"Collaborative, creative",callToAction:"Ping the chat when your Figma link is live!",goalType:"multi-activity"}];function G(){let[e,s]=(0,l.useState)(""),[J,G]=(0,l.useState)(""),[O,L]=(0,l.useState)("personal"),[V,B]=(0,l.useState)("single-activity"),[I,Z]=(0,l.useState)("private"),[$,U]=(0,l.useState)([""]),[Y,H]=(0,l.useState)("daily"),[Q,K]=(0,l.useState)([]),[X,ee]=(0,l.useState)(!1),[es,et]=(0,l.useState)([]),[ea,el]=(0,l.useState)([]),[er,ei]=(0,l.useState)({}),[en,ec]=(0,l.useState)(""),[ed,eo]=(0,l.useState)("date"),[em,ex]=(0,l.useState)(""),[eu,eh]=(0,l.useState)(""),[ep,eg]=(0,l.useState)(""),[ef,ev]=(0,l.useState)("by-date"),[ej,eb]=(0,l.useState)(""),[eN,ey]=(0,l.useState)(null),[ew,ek]=(0,l.useState)([]),[eC,eS]=(0,l.useState)(""),[e_,eA]=(0,l.useState)(null),[ez,eT]=(0,l.useState)(!1),[eD,eP]=(0,l.useState)("single-activity"),[eJ,eq]=(0,l.useState)([]),[eF,eE]=(0,l.useState)(""),[eR,eW]=(0,l.useState)("annual"),[eM,eG]=(0,l.useState)(new Date().getFullYear()),[eO,eL]=(0,l.useState)(Math.ceil((new Date().getMonth()+1)/3)),eV=(0,F.useRouter)();(0,l.useEffect)(()=>{(async()=>{try{let e=await W._.getCurrentUser();if(!e)return void eV.push("/auth/login");let{data:s}=await W.N.from("profiles").select("*").eq("id",e.id).maybeSingle();ey({id:e.id,name:s&&"".concat(s.first_name||""," ").concat(s.last_name||"").trim()||"You",username:(null==s?void 0:s.username)||"you"});let{data:t}=await W.N.from("follows").select("following_id, following_profile:profiles!follows_following_id_fkey(*)").eq("follower_id",e.id).eq("status","accepted"),{data:a}=await W.N.from("follows").select("follower_id, follower_profile:profiles!follows_follower_id_fkey(*)").eq("following_id",e.id).eq("status","accepted");null==t||t.map(e=>e.following_id);let l=new Set((null==a?void 0:a.map(e=>e.follower_id))||[]),r=(t||[]).filter(e=>l.has(e.following_id)).map(e=>{let s=Array.isArray(e.following_profile)?e.following_profile[0]:e.following_profile;return{id:e.following_id,name:"".concat((null==s?void 0:s.first_name)||""," ").concat((null==s?void 0:s.last_name)||"").trim()||"Partner",username:(null==s?void 0:s.username)||"partner"}});ek(r)}catch(e){console.error("Error loading data:",e),eV.push("/auth/login")}})()},[eV]),(0,l.useEffect)(()=>{"group"===O&&eN?el(e=>e.includes(eN.id)?e:[eN.id,...e].slice(0,5)):el([])},[O,eN]);let eB=(0,l.useMemo)(()=>eN?[eN,...ew]:[],[eN,ew]),eI=(0,l.useMemo)(()=>M.slice(0,3),[]);if(!eN)return(0,a.jsx)(R.O,{children:(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(f.A,{className:"h-12 w-12 text-primary animate-pulse mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})})});let eZ=(e,s)=>{let t=[...$];t[e]=s,U(t)},e$=async s=>{s.preventDefault(),ee(!0);try{if(!eN)return void E.oR.error("Please log in to create goals");let{data:{user:s},error:l}=await W.N.auth.getUser();if(l||!s){E.oR.error("Authentication required"),eV.push("/auth/login");return}let{data:r,error:i}=await W.N.from("profiles").select("id, username").eq("id",s.id).maybeSingle();if(i){console.error("Profile check error:",i),E.oR.error("Database error. Please try again.");return}if(!r){E.oR.error("Profile not found. Please complete your profile first."),eV.push("/auth/kyc");return}if(r.id!==s.id){E.oR.error("Authentication mismatch. Please log in again."),eV.push("/auth/login");return}"personal"===O&&0===es.length&&ew.length;let n="date"===ed?em:"by-date"===ef?ep:null,c=new Date().toISOString().split("T")[0];if(eu){let e=new Date(eu),s=new Date;if(s.setMonth(s.getMonth()+2),e>s)return void E.oR.error("Start date cannot be more than 2 months in the future")}if(eu&&n&&n<=eu)return void E.oR.error("End date must be after start date");let d={user_id:s.id,title:e||"Untitled Goal",description:J,goal_type:V,visibility:I,status:eu&&eu>c?"pending":"active",progress:0,category:eC.replace("-","_"),priority:"medium",start_date:eu||null,target_date:n,is_suspended:!1,completed_at:null,duration_type:"standard",schedule_type:ed,recurrence_pattern:"recurring"===ed?Y:null,recurrence_days:"recurring"===ed&&"custom"===Y?Q:null,end_condition:"recurring"===ed?ef:null,target_completions:"after-completions"===ef?parseInt(ej):null};console.log("Creating goal with user_id:",s.id),console.log("Profile exists:",r.id);let{data:o,error:m}=await W.N.from("goals").insert([d]).select().single();if(m){var a;console.error("Goal creation error:",m),(null==(a=m.message)?void 0:a.includes("foreign key constraint"))?(E.oR.error("Profile setup incomplete. Please refresh and try again."),eV.push("/auth/kyc")):E.oR.error(m.message||"Failed to create goal");return}let{checkAndUnlockAchievements:x}=await Promise.resolve().then(t.bind(t,97643));if(await x(s.id,"goal_created"),"multi-activity"===V&&$.length>0){let e=$.filter(e=>e.trim()).map((e,s)=>({goal_id:o.id,title:e.trim(),completed:!1,order_index:s}));e.length>0&&await W.N.from("goal_activities").insert(e)}await W.N.from("notifications").insert({user_id:s.id,title:"Goal Created!",message:"You created a new goal: ".concat(e),type:"goal_created",read:!1,data:{goal_id:o.id}}),E.oR.success("Goal created successfully!"),window.dispatchEvent(new CustomEvent("goalCreated",{detail:{goalId:o.id}})),t.e(6208).then(t.bind(t,46208)).then(e=>{let{triggerAchievementCheck:s}=e;s()}),eV.push("/goals")}catch(e){E.oR.error(e.message||"Failed to create goal")}finally{ee(!1)}},eU=[{title:"Morning Workout",description:"Build strength and energy for the day",category:"health-fitness",icon:v.A,color:"text-green-600"},{title:"Daily Reading",description:"Expand knowledge and reduce stress",category:"learning",icon:j.A,color:"text-blue-600"},{title:"Career Development",description:"Advance your professional growth",category:"career",icon:b.A,color:"text-purple-600"},{title:"Mindfulness Practice",description:"Find inner peace and mindfulness",category:"wellness",icon:N.A,color:"text-pink-600"}];return(0,a.jsxs)(R.O,{children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg sm:text-xl font-bold tracking-tight",children:"Create Standard Goal"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Set a regular goal with custom timeline"})]}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)(q(),{href:"/goals",children:(0,a.jsxs)(r.$,{variant:"outline",size:"sm",className:"hover-lift h-7 text-xs px-2",children:[(0,a.jsx)(y.A,{className:"h-3 w-3 mr-1"}),"Back"]})})})]}),(0,a.jsxs)("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,2fr)_minmax(0,1fr)] xl:gap-5",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)("form",{onSubmit:e$,children:(0,a.jsxs)(d.Zp,{className:"rounded-2xl border border-border bg-card overflow-hidden min-h-[600px] md:min-h-[700px]",children:[(0,a.jsxs)(d.aR,{className:"pb-3 px-5 pt-5 relative z-10",children:[(0,a.jsxs)(d.ZB,{className:"flex items-center gap-2 text-sm text-slate-900 dark:text-slate-100",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 text-primary"}),"Goal Details"]}),(0,a.jsx)(d.BT,{className:"text-xs text-slate-500 dark:text-slate-400",children:"Capture the essentials before layering in accountability."})]}),(0,a.jsxs)(d.Wu,{className:"space-y-4 px-5 pb-6 relative z-10 overflow-y-auto max-h-[calc(100vh-300px)] md:max-h-none",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)(n.J,{htmlFor:"title",className:"text-xs font-medium",children:["Title ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(i.p,{id:"title",placeholder:"e.g., Workout daily, Learn Spanish",value:e,onChange:e=>s(e.target.value),className:"h-7 text-xs focus-ring",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)(n.J,{htmlFor:"description",className:"text-xs font-medium",children:["Description ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(c.T,{id:"description",placeholder:"Why is this goal important?",value:J,onChange:e=>G(e.target.value),rows:2,className:"text-xs focus-ring resize-none"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)(n.J,{className:"text-xs font-medium",children:["Type ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(m.z,{value:O,onValueChange:e=>L(e),children:(0,a.jsxs)("div",{className:"grid gap-2 sm:grid-cols-2",children:[(0,a.jsxs)("label",{htmlFor:"personal",className:"flex cursor-pointer items-center gap-3 rounded-xl border px-3 py-3 text-xs transition ".concat("personal"===O?"border-blue-300 bg-blue-50 shadow-[0_10px_18px_rgba(37,99,235,0.12)]":"border-slate-200 bg-white hover:border-blue-200"),children:[(0,a.jsx)(m.C,{value:"personal",id:"personal",className:"sr-only"}),(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-100 text-blue-600",children:(0,a.jsx)(f.A,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-semibold text-slate-800",children:"Personal"}),(0,a.jsx)("p",{className:"text-[11px] text-slate-500",children:"Just you"})]})]}),(0,a.jsxs)("label",{htmlFor:"group",className:"flex cursor-pointer items-center gap-3 rounded-xl border px-3 py-3 text-xs transition ".concat("group"===O?"border-blue-300 bg-blue-50 shadow-[0_10px_18px_rgba(37,99,235,0.12)]":"border-slate-200 bg-white hover:border-blue-200"),children:[(0,a.jsx)(m.C,{value:"group",id:"group",className:"sr-only"}),(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-100 text-blue-600",children:(0,a.jsx)(w.A,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-semibold text-slate-800",children:"Group"}),(0,a.jsx)("p",{className:"text-[11px] text-slate-500",children:"Up to 5 teammates"})]})]})]})})]}),"group"===O&&(0,a.jsxs)("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-slate-50/60 p-4 shadow-[0_8px_18px_rgba(15,23,42,0.08)] dark:border-slate-800 dark:bg-slate-900/40",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n.J,{className:"text-xs font-semibold text-slate-700 dark:text-slate-200",children:"Members"}),(0,a.jsxs)(h.E,{variant:"outline",className:"text-xs bg-white text-slate-600 border-slate-200 dark:bg-slate-900/60 dark:text-slate-200",children:[ea.length,"/5"]})]}),(0,a.jsxs)(o.l6,{value:"",onValueChange:e=>{!ea.includes(e)&&ea.length<5&&el([...ea,e])},children:[(0,a.jsx)(o.bq,{className:"h-9 text-xs focus-ring rounded-lg border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-900",children:(0,a.jsx)(o.yv,{placeholder:"Add member..."})}),(0,a.jsx)(o.gC,{children:eB.filter(e=>e.id!==eN.id).filter(e=>!ea.includes(e.id)).map(e=>(0,a.jsx)(o.eb,{value:e.id,className:"text-xs",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-blue-100 text-blue-600",children:(0,a.jsx)("span",{className:"text-[10px] font-semibold",children:e.name.charAt(0)})}),(0,a.jsx)("div",{className:"text-xs font-medium text-slate-600 dark:text-slate-200",children:e.name})]})},e.id))})]}),ea.length>0&&(0,a.jsx)("div",{className:"space-y-2",children:ea.map(e=>{let s=eB.find(s=>s.id===e);return s?(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-white bg-white p-2.5 shadow-sm dark:border-slate-700 dark:bg-slate-900",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-blue-100 text-blue-600",children:(0,a.jsx)("span",{className:"text-[11px] font-semibold",children:s.name.charAt(0)})}),(0,a.jsx)("div",{className:"text-xs font-medium text-slate-700 dark:text-slate-200",children:s.name})]}),e!==eN.id&&(0,a.jsx)(r.$,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6 text-slate-400 hover:text-destructive",onClick:()=>el(ea.filter(s=>s!==e)),children:(0,a.jsx)(k.A,{className:"h-3 w-3"})})]},e):null})})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)(n.J,{className:"text-xs font-medium",children:["Category ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)(o.l6,{value:eC,onValueChange:eS,children:[(0,a.jsx)(o.bq,{className:"h-9 text-xs focus-ring rounded-lg border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-900",children:(0,a.jsx)(o.yv,{placeholder:"Select category..."})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"health-fitness",className:"text-xs",children:"Health & Fitness"}),(0,a.jsx)(o.eb,{value:"career",className:"text-xs",children:"Career & Business"}),(0,a.jsx)(o.eb,{value:"learning",className:"text-xs",children:"Learning & Education"}),(0,a.jsx)(o.eb,{value:"personal",className:"text-xs",children:"Personal Growth"}),(0,a.jsx)(o.eb,{value:"relationships",className:"text-xs",children:"Relationships"}),(0,a.jsx)(o.eb,{value:"finance",className:"text-xs",children:"Finance"}),(0,a.jsx)(o.eb,{value:"travel",className:"text-xs",children:"Travel"}),(0,a.jsx)(o.eb,{value:"creative",className:"text-xs",children:"Creative Arts"}),(0,a.jsx)(o.eb,{value:"technology",className:"text-xs",children:"Technology"}),(0,a.jsx)(o.eb,{value:"sports",className:"text-xs",children:"Sports"}),(0,a.jsx)(o.eb,{value:"music",className:"text-xs",children:"Music"}),(0,a.jsx)(o.eb,{value:"reading",className:"text-xs",children:"Reading"}),(0,a.jsx)(o.eb,{value:"wellness",className:"text-xs",children:"Wellness"}),(0,a.jsx)(o.eb,{value:"productivity",className:"text-xs",children:"Productivity"}),(0,a.jsx)(o.eb,{value:"other",className:"text-xs",children:"Other"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(n.J,{className:"text-sm font-medium",children:["Goal Type ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(m.z,{value:V,onValueChange:e=>B(e),children:(0,a.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 transition-all cursor-pointer hover:bg-accent/50 ".concat("single-activity"===V?"border-primary bg-primary/5":"border-border"),children:[(0,a.jsx)(m.C,{value:"single-activity",id:"single-activity"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(n.J,{htmlFor:"single-activity",className:"font-medium cursor-pointer",children:"Single Activity"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"One specific task to complete"})]}),(0,a.jsx)(C.A,{className:"h-5 w-5 text-muted-foreground"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 transition-all cursor-pointer hover:bg-accent/50 ".concat("multi-activity"===V?"border-primary bg-primary/5":"border-border"),children:[(0,a.jsx)(m.C,{value:"multi-activity",id:"multi-activity"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(n.J,{htmlFor:"multi-activity",className:"font-medium cursor-pointer",children:"Multi-Activity Checklist"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Multiple tasks to complete"})]}),(0,a.jsx)(f.A,{className:"h-5 w-5 text-muted-foreground"})]})]})})]}),"single-activity"===V&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(n.J,{htmlFor:"singleActivity",className:"text-sm font-medium",children:["Activity ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(i.p,{id:"singleActivity",placeholder:"e.g., Run 5K, Submit portfolio",value:en,onChange:e=>ec(e.target.value),className:"focus-ring",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-4 p-4 rounded-lg bg-muted/30",children:[(0,a.jsxs)(n.J,{className:"text-sm font-medium",children:["Schedule ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(m.z,{value:ed,onValueChange:e=>eo(e),children:(0,a.jsxs)("div",{className:"grid gap-3 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 transition-all cursor-pointer hover:bg-accent/50 ".concat("date"===ed?"border-primary bg-primary/5":"border-border"),children:[(0,a.jsx)(m.C,{value:"date",id:"schedule-date"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(n.J,{htmlFor:"schedule-date",className:"font-medium cursor-pointer",children:"Specific Date"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pick the day to complete this"})]}),(0,a.jsx)(S.A,{className:"h-5 w-5 text-muted-foreground"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-4 rounded-lg border-2 transition-all cursor-pointer hover:bg-accent/50 ".concat("recurring"===ed?"border-primary bg-primary/5":"border-border"),children:[(0,a.jsx)(m.C,{value:"recurring",id:"schedule-recurring"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(n.J,{htmlFor:"schedule-recurring",className:"font-medium cursor-pointer",children:"Recurring"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Repeat on a schedule"})]}),(0,a.jsx)(_.A,{className:"h-5 w-5 text-muted-foreground"})]})]})}),"date"===ed?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(n.J,{htmlFor:"specificStartDate",className:"text-sm font-medium",children:["Start Date ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(i.p,{id:"specificStartDate",type:"date",value:eu,onChange:e=>eh(e.target.value),className:"focus-ring",min:new Date().toISOString().split("T")[0],max:new Date(Date.now()+5184e6).toISOString().split("T")[0],required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(n.J,{htmlFor:"specificEndDate",className:"text-sm font-medium",children:["End Date ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(i.p,{id:"specificEndDate",type:"date",value:em,onChange:e=>ex(e.target.value),className:"focus-ring",min:eu||new Date().toISOString().split("T")[0],required:!0})]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Start date maximum 2 months from today. Goal will be pending if start date is in the future."})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(n.J,{htmlFor:"startDate",className:"text-sm font-medium",children:["Start Date ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(i.p,{id:"startDate",type:"date",value:eu,onChange:e=>eh(e.target.value),className:"focus-ring",min:new Date().toISOString().split("T")[0],max:new Date(Date.now()+5184e6).toISOString().split("T")[0],required:!0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Maximum 2 months from today. Goal will be pending if start date is in the future."})]}),(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(n.J,{className:"text-sm font-medium",children:["Recurrence Pattern"," ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)(o.l6,{value:Y,onValueChange:H,children:[(0,a.jsx)(o.bq,{className:"focus-ring",children:(0,a.jsx)(o.yv,{})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"daily",children:"Daily"}),(0,a.jsx)(o.eb,{value:"weekly",children:"Weekly"}),(0,a.jsx)(o.eb,{value:"monthly",children:"Monthly"}),(0,a.jsx)(o.eb,{value:"custom",children:"Custom Days"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(n.J,{className:"text-sm font-medium",children:["End Condition"," ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)(o.l6,{value:ef,onValueChange:e=>ev(e),children:[(0,a.jsx)(o.bq,{className:"focus-ring",children:(0,a.jsx)(o.yv,{})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"ongoing",children:"Ongoing (No end date)"}),(0,a.jsx)(o.eb,{value:"by-date",children:"daily"===Y?"End Date":"weekly"===Y?"Target Week":"monthly"===Y?"Target Month":"End Date"}),(0,a.jsx)(o.eb,{value:"after-completions",children:"After Completions"})]})]})]}),"by-date"===ef&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(n.J,{htmlFor:"recurringDue",className:"text-sm font-medium",children:["daily"===Y?"End Date":"weekly"===Y?"Target Week End":"monthly"===Y?"Target Month End":"End Date"," ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(i.p,{id:"recurringDue",type:"date",value:ep,onChange:e=>eg(e.target.value),className:"focus-ring",min:eu||new Date().toISOString().split("T")[0],required:!0})]}),"after-completions"===ef&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(n.J,{htmlFor:"targetCompletions",className:"text-sm font-medium",children:["Target Completions"," ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(i.p,{id:"targetCompletions",type:"number",min:"1",max:"365",value:ej,onChange:e=>eb(e.target.value),className:"focus-ring",placeholder:"daily"===Y?"e.g., 30 days":"weekly"===Y?"e.g., 12 weeks":"monthly"===Y?"e.g., 6 months":"e.g., 20 cycles",required:!0})]})]}),"custom"===Y&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(n.J,{className:"text-sm",children:["Select Days"," ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.S,{id:"sa-".concat(e),checked:Q.includes(e),onCheckedChange:()=>{Q.includes(e)?K(Q.filter(s=>s!==e)):K([...Q,e])}}),(0,a.jsx)(n.J,{htmlFor:"sa-".concat(e),className:"font-normal cursor-pointer capitalize text-sm",children:e})]},e))})]})]})]}),"multi-activity"===V&&(0,a.jsxs)("div",{className:"space-y-4 p-4 rounded-lg bg-muted/30",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n.J,{className:"text-sm font-medium",children:["Activities ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)(r.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{U([...$,""])},children:[(0,a.jsx)(A.A,{className:"h-4 w-4 mr-1"}),"Add Activity"]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Add at least 2 activities or choose from suggestions"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{className:"text-xs font-medium text-muted-foreground",children:"Quick Add Suggestions:"}),(0,a.jsxs)(o.l6,{value:"",onValueChange:e=>{let s=$.findIndex(e=>!e.trim());-1!==s?eZ(s,e):U([...$,e])},children:[(0,a.jsx)(o.bq,{className:"focus-ring",children:(0,a.jsx)(o.yv,{placeholder:"Choose from suggestions..."})}),(0,a.jsx)(o.gC,{children:["30 minutes cardio","Read 20 pages","Meditate 10 minutes","Drink 8 glasses water","Write in journal","Practice coding","Learn new skill","Call family/friends","Organize workspace","Plan tomorrow","Stretch routine","Healthy breakfast","No social media","Take vitamins","Walk 10k steps"].map(e=>(0,a.jsx)(o.eb,{value:e,children:e},e))})]})]}),(0,a.jsx)("div",{className:"space-y-3",children:$.map((e,s)=>(0,a.jsxs)("div",{className:"space-y-2 p-3 rounded-lg border bg-card",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.p,{placeholder:"Activity ".concat(s+1),value:e,onChange:e=>eZ(s,e.target.value),className:"focus-ring",required:!0}),$.length>1&&(0,a.jsx)(r.$,{type:"button",variant:"outline",size:"icon",onClick:()=>{U($.filter((e,t)=>t!==s))},className:"shrink-0",children:(0,a.jsx)(k.A,{className:"h-4 w-4"})})]}),"group"===O&&ea.length>1&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.J,{className:"text-xs font-medium text-muted-foreground",children:"Assign to"}),(0,a.jsxs)(o.l6,{value:er[s]||"",onValueChange:e=>{let t={...er};t[s]=e,ei(t)},children:[(0,a.jsx)(o.bq,{className:"focus-ring h-8 text-xs",children:(0,a.jsx)(o.yv,{placeholder:"Select member..."})}),(0,a.jsx)(o.gC,{children:ea.map(e=>{let s=eB.find(s=>s.id===e);return s?(0,a.jsx)(o.eb,{value:e,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium",children:s.name.charAt(0)})}),(0,a.jsx)("span",{className:"text-sm",children:s.name})]})},e):null})})]})]})]},s))})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(n.J,{className:"text-sm font-medium",children:["Visibility ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)(o.l6,{value:I,onValueChange:e=>Z(e),children:[(0,a.jsx)(o.bq,{className:"focus-ring",children:(0,a.jsx)(o.yv,{})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"private",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(z.A,{className:"h-4 w-4"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Private"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Only you can see"})]})]})}),(0,a.jsx)(o.eb,{value:"followers",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(w.A,{className:"h-4 w-4"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Followers"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Your followers can see"})]})]})}),(0,a.jsx)(o.eb,{value:"accountability_partners",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(w.A,{className:"h-4 w-4"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Accountability Partners"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Only your partners can see"})]})]})}),(0,a.jsx)(o.eb,{value:"public",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(T.A,{className:"h-4 w-4"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Public"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Everyone can see"})]})]})})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)(q(),{href:"/goals",className:"flex-1",children:(0,a.jsx)(r.$,{type:"button",variant:"outline",className:"w-full hover-lift",children:"Cancel"})}),(0,a.jsx)(r.$,{type:"submit",className:"flex-1 hover-lift",disabled:X||!e.trim()||!J.trim()||!eC||!O||"single-activity"===V&&!en.trim()||"multi-activity"===V&&$.filter(e=>e.trim()).length<2||"date"===ed&&(!eu||!em)||"recurring"===ed&&!eu||"recurring"===ed&&"custom"===Y&&0===Q.length||"recurring"===ed&&"by-date"===ef&&!ep||"recurring"===ed&&"after-completions"===ef&&!ej,children:X?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(D.A,{className:"h-4 w-4"}),"Create Goal"]})})]})]})]})})}),(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Group Goal Chat Starters"}),(0,a.jsx)("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:"Use these prompts to keep momentum over text."})]}),(0,a.jsx)(h.E,{variant:"outline",className:"text-[10px] uppercase tracking-wide bg-white dark:bg-slate-900/60",children:"Group"})]}),(0,a.jsx)("div",{className:"grid gap-3 sm:grid-cols-2",children:eI.map(e=>(0,a.jsx)(d.Zp,{className:"rounded-xl border border-slate-100 bg-white",children:(0,a.jsxs)(d.Wu,{className:"space-y-3 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(h.E,{variant:"outline",className:"text-[10px] uppercase tracking-wide text-slate-600",children:"Group Goal"}),(0,a.jsx)("span",{className:"text-[11px] font-medium text-slate-500",children:e.timeframe})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-slate-900 leading-tight",children:e.title}),(0,a.jsx)("p",{className:"text-[13px] text-slate-600 leading-relaxed",children:e.summary})]}),(0,a.jsx)("div",{className:"flex items-center justify-between text-[11px] text-slate-500",children:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(g.A,{className:"h-3 w-3 text-slate-400"}),(0,a.jsx)("span",{className:"capitalize",children:e.goalType.replace("-"," ")})]})}),(0,a.jsx)("div",{className:"rounded-lg border border-slate-100 bg-slate-50 p-3 text-[12px] font-medium text-slate-600",children:e.callToAction})]})},e.id))})]}),(0,a.jsxs)(d.Zp,{className:"rounded-2xl border border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900",children:[(0,a.jsxs)(d.aR,{className:"pb-2",children:[(0,a.jsxs)(d.ZB,{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(P.A,{className:"h-4 w-4 text-amber-500"}),"Quick Templates"]}),(0,a.jsx)(d.BT,{className:"text-xs",children:"Pre-built structures to accelerate setup. Tap to load and customize."})]}),(0,a.jsxs)(d.Wu,{className:"space-y-3",children:[(0,a.jsx)("div",{className:"grid gap-3",children:eU.slice(0,3).map((e,s)=>{let t=e.icon;return(0,a.jsxs)("button",{type:"button",className:"flex w-full items-start gap-3 rounded-xl border border-slate-200 bg-white p-3 text-left dark:border-slate-800 dark:bg-slate-900",onClick:()=>{eA(e),eT(!0)},children:[(0,a.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-blue-50 text-blue-600 "+e.color,children:(0,a.jsx)(t,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-slate-800 dark:text-slate-100",children:e.title}),(0,a.jsx)("p",{className:"text-[11px] text-slate-500 dark:text-slate-400 line-clamp-2",children:e.description}),(0,a.jsx)(h.E,{variant:"secondary",className:"text-[10px] uppercase tracking-wide",children:e.category.replace("-"," ")})]})]},e.title)})}),(0,a.jsx)(r.$,{type:"button",variant:"outline",className:"w-full justify-center rounded-lg border border-blue-200 text-blue-600 hover:bg-blue-50",onClick:()=>eT(!0),children:"Browse full template library"})]})]}),(0,a.jsxs)(d.Zp,{className:"rounded-2xl border border-slate-200 bg-white p-0 dark:border-slate-800 dark:bg-slate-900",children:[(0,a.jsxs)(d.aR,{className:"pb-2",children:[(0,a.jsx)(d.ZB,{className:"text-sm",children:"Goal Creation Progress"}),(0,a.jsx)(d.BT,{className:"text-xs",children:"Complete each step to publish with confidence."})]}),(0,a.jsxs)(d.Wu,{className:"space-y-3",children:[(0,a.jsx)("div",{className:"space-y-2 text-xs",children:[{label:"Goal Title",complete:!!e},{label:"Goal Type",complete:!!V},{label:"Category",complete:!!eC},{label:"Visibility",complete:!!I}].map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 ".concat(e.complete?"text-emerald-600":"text-slate-400"),children:[e.complete?(0,a.jsx)(C.A,{className:"h-4 w-4"}):(0,a.jsx)("div",{className:"h-4 w-4 rounded-full border-2 border-current"}),(0,a.jsx)("span",{children:e.label})]},e.label))}),(0,a.jsx)(u.k,{value:e&&V&&eC&&I?100:e&&V&&eC?75:e&&V?50:25*!!e,className:"h-2"})]})]})]})]})]}),(0,a.jsx)(p.lG,{open:ez,onOpenChange:eT,children:(0,a.jsxs)(p.Cf,{className:"max-w-md",children:[(0,a.jsx)(p.c7,{children:(0,a.jsx)(p.L3,{children:"Customize Template"})}),e_&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 rounded-2xl border border-white/40 bg-white/80 p-3 shadow-sm backdrop-blur dark:border-white/10 dark:bg-slate-900/60",children:[(0,a.jsx)(e_.icon,{className:"h-5 w-5 "+e_.color}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:e_.title}),(0,a.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:e_.description})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(n.J,{className:"text-xs font-semibold uppercase tracking-wide",children:"Goal Type"}),(0,a.jsx)(m.z,{value:eD,onValueChange:e=>eP(e),className:"grid gap-2",children:[{value:"single-activity",label:"Single Activity"},{value:"multi-activity",label:"Multi-Activity Checklist"}].map(e=>(0,a.jsxs)("label",{htmlFor:"template-".concat(e.value),className:"flex cursor-pointer items-center gap-2 rounded-xl border px-3 py-2 text-sm transition "+(eD===e.value?"border-primary/60 bg-primary/10":"border-border/50 hover:border-primary/40"),children:[(0,a.jsx)(m.C,{value:e.value,id:"template-".concat(e.value)}),e.label]},e.value))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{className:"text-xs font-semibold uppercase tracking-wide",children:"single-activity"===eD?"Choose one activity":"Select activities"}),(0,a.jsx)("div",{className:"space-y-1",children:(({"health-fitness":["30 minutes cardio","Strength training","Stretch routine","Drink 8 glasses water","Walk 10k steps"],learning:["Read 20 pages","Take notes","Practice coding","Watch tutorial","Complete course module"],career:["Update resume","Network with colleagues","Learn new skill","Apply for jobs","Complete project"],personal:["Write in journal","Meditate 10 minutes","Call family/friends","Organize space","Practice gratitude"],wellness:["Meditate 10 minutes","Practice breathing","Take vitamins","Get 8 hours sleep","Limit screen time"],finance:["Track expenses","Review budget","Save money","Pay bills","Research investments"],relationships:["Call family","Text friends","Plan date night","Write thank you note","Listen actively"],creative:["Draw for 30 minutes","Write 500 words","Take photos","Practice instrument","Learn new technique"]})[e_.category]||[]).map((e,s)=>{let t="single-activity"===eD?eF===e:eJ.includes(e);return(0,a.jsx)(r.$,{variant:t?"default":"ghost",size:"sm",className:"w-full justify-start rounded-xl px-3 py-2 text-sm",onClick:()=>{"single-activity"===eD?eE(e===eF?"":e):eq(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["single-activity"===eD?(0,a.jsx)("div",{className:"h-3 w-3 rounded-full border "+(t?"border-primary bg-primary":"border-muted-foreground")}):(0,a.jsx)(x.S,{checked:t,disabled:!0}),e]})},"".concat(e,"-").concat(s))})}),"multi-activity"===eD&&(0,a.jsxs)("p",{className:"text-[11px] text-muted-foreground",children:["Selected: ",eJ.length,"/5"]})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,a.jsx)(r.$,{type:"button",variant:"outline",onClick:()=>eT(!1),className:"flex-1",children:"Cancel"}),(0,a.jsx)(r.$,{type:"button",onClick:()=>{e_&&(s(e_.title),G(e_.description),eS(e_.category),B(eD),"single-activity"===eD?ec(eF||e_.title):U(eJ.length>0?eJ:[""]),eT(!1),eA(null),eq([]),eE(""))},className:"flex-1",disabled:"single-activity"===eD?!eF:0===eJ.length,children:"Apply Template"})]})]})]})})]})}},58102:(e,s,t)=>{Promise.resolve().then(t.bind(t,54965))},67001:(e,s,t)=>{"use strict";t.d(s,{T:()=>r});var a=t(95155);t(12115);var l=t(25016);function r(e){let{className:s,...t}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,l.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...t})}},83209:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>n,Zp:()=>r,aR:()=>i});var a=t(95155);t(12115);var l=t(25016);function r(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,l.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function i(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,l.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function n(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,l.cn)("leading-none font-semibold",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,l.cn)("text-muted-foreground text-sm",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,l.cn)("px-6",s),...t})}},84916:(e,s,t)=>{"use strict";t.d(s,{S:()=>n});var a=t(95155);t(12115);var l=t(38162),r=t(5917),i=t(25016);function n(e){let{className:s,...t}=e;return(0,a.jsx)(l.bL,{"data-slot":"checkbox",className:(0,i.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:(0,a.jsx)(l.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,a.jsx)(r.A,{className:"size-3.5"})})})}},90235:(e,s,t)=>{"use strict";t.d(s,{J:()=>i});var a=t(95155);t(12115);var l=t(10489),r=t(25016);function i(e){let{className:s,...t}=e;return(0,a.jsx)(l.b,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}}},e=>{e.O(0,[297,5707,8760,1370,3224,6227,8720,7928,8934,9885,8441,1255,7358],()=>e(e.s=58102)),_N_E=e.O()}]);