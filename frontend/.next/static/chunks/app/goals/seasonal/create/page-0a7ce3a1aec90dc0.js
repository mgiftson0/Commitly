(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2443],{2219:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>q});var a=t(95155),r=t(12115),l=t(97003),i=t(33789),n=t(90235),d=t(67001),c=t(83209),o=t(47507),u=t(17982),m=t(67812),x=t(35626),h=t(30814),p=t(16485),f=t(39347),v=t(91169),g=t(65229),j=t(6191),b=t(99708),y=t(39068),N=t(17666),w=t(52619),k=t.n(w),_=t(20063),C=t(18720),A=t(19885),S=t(42855);let z={annual:[{title:"Master a New Language",description:"Achieve conversational fluency in a new language through daily practice",category:"learning",milestones:["Complete beginner course","Hold 5-minute conversation","Read a book","Watch movie without subtitles"]},{title:"Transform Physical Health",description:"Complete fitness transformation with strength, cardio, and nutrition",category:"health-fitness",milestones:["Establish workout routine","Reach target weight","Complete fitness challenge","Maintain for 3 months"]},{title:"Build Professional Skills",description:"Develop expertise in your field through courses, projects, and networking",category:"career",milestones:["Complete certification","Lead major project","Expand network","Get promotion/new role"]}],quarterly:[{title:"Launch Side Project",description:"Build and launch a meaningful side project from concept to completion",category:"career",milestones:["Define project scope","Build MVP","Get first users","Launch publicly"]},{title:"Fitness Challenge",description:"Complete a focused 90-day fitness transformation",category:"health-fitness",milestones:["Week 1-2: Foundation","Week 3-6: Building","Week 7-10: Intensity","Week 11-12: Peak"]}],biannual:[{title:"Creative Mastery",description:"Develop advanced skills in a creative discipline over 6 months",category:"creative",milestones:["Learn fundamentals","Complete first project","Advanced techniques","Portfolio showcase"]}]};function q(){let[e,s]=(0,r.useState)("annual"),[t,w]=(0,r.useState)(""),[q,R]=(0,r.useState)(""),[M,E]=(0,r.useState)(""),[L,G]=(0,r.useState)(new Date().getFullYear()),[P,D]=(0,r.useState)(Math.ceil((new Date().getMonth()+1)/3)),[J,F]=(0,r.useState)([""]),[O,V]=(0,r.useState)(null),[B,I]=(0,r.useState)(!1),[T,W]=(0,r.useState)(!1),[Z,$]=(0,r.useState)("personal"),[Y,H]=(0,r.useState)("public"),[Q,K]=(0,r.useState)([]),[U,X]=(0,r.useState)([]),[ee,es]=(0,r.useState)(null),[et,ea]=(0,r.useState)([]),er=(0,_.useRouter)();(0,r.useEffect)(()=>{(async()=>{try{let e=await S._.getCurrentUser();if(!e)return void er.push("/auth/login");let{data:s}=await S.N.from("profiles").select("*").eq("id",e.id).maybeSingle();es({id:e.id,name:s&&"".concat(s.first_name||""," ").concat(s.last_name||"").trim()||"You",username:(null==s?void 0:s.username)||"you"});let{data:t}=await S.N.from("accountability_partners").select("\n            *,\n            partner_profile:profiles!accountability_partners_partner_id_fkey(*),\n            user_profile:profiles!accountability_partners_user_id_fkey(*)\n          ").or("user_id.eq.".concat(e.id,",partner_id.eq.").concat(e.id)).eq("status","accepted"),a=(t||[]).map(s=>{let t=s.user_id===e.id,a=t?s.partner_profile:s.user_profile;return{id:t?s.partner_id:s.user_id,name:a&&"".concat(a.first_name||""," ").concat(a.last_name||"").trim()||"Partner",username:(null==a?void 0:a.username)||"partner"}});ea(a)}catch(e){console.error("Error loading data:",e),er.push("/auth/login")}})()},[er]),(0,r.useEffect)(()=>{"group"===Z&&ee?X(e=>e.includes(ee.id)?e:[ee.id,...e].slice(0,5)):X([])},[Z,ee]);let el=(0,r.useMemo)(()=>ee?[ee,...et]:[],[ee,et]),ei=async s=>{s.preventDefault(),W(!0);try{let s=await S._.getCurrentUser();if(!s)return void C.oR.error("Please log in to create goals");let a={user_id:s.id,title:t,description:q,goal_type:"multi-activity",duration_type:e,seasonal_year:L,seasonal_quarter:"quarterly"===e?P:null,category:M.replace("-","_"),status:"active",progress:0,visibility:Y,priority:"high",is_seasonal:!0,target_date:null},{data:r,error:l}=await S.N.from("goals").insert([a]).select().single();if(l)throw l;if(J.filter(e=>e.trim()).length>0){let e=J.filter(e=>e.trim()).map((e,s)=>({goal_id:r.id,title:e.trim(),completed:!1,order_index:s}));await S.N.from("goal_activities").insert(e)}try{await S.N.from("notifications").insert({user_id:s.id,title:"Seasonal Goal Created! \uD83C\uDF1F",message:"You created a new seasonal goal: ".concat(t),type:"seasonal_goal_created",read:!1,data:{goal_id:r.id,duration_type:e}})}catch(e){console.error("Failed to create notification:",e)}try{let{data:t}=await S.N.from("goals").select("id",{count:"exact"}).eq("user_id",s.id).eq("is_seasonal",!0);1===t&&await S.N.from("user_achievements").insert({user_id:s.id,achievement_type:"first_seasonal_goal",unlocked_at:new Date().toISOString(),data:{goal_id:r.id,duration_type:e}}),"annual"===e&&t>=3&&await S.N.from("user_achievements").insert({user_id:s.id,achievement_type:"annual_planner",unlocked_at:new Date().toISOString(),data:{seasonal_goal_count:t}})}catch(e){console.error("Failed to check seasonal achievements:",e)}C.oR.success("Seasonal goal created successfully!"),window.dispatchEvent(new CustomEvent("goalCreated",{detail:{goalId:r.id}})),er.push("/goals")}catch(e){C.oR.error(e.message||"Failed to create seasonal goal")}finally{W(!1)}};return(0,a.jsx)(A.O,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg sm:text-xl font-bold tracking-tight",children:"Create Seasonal Goal"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Long-term transformation goals"})]}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)(k(),{href:"/goals/seasonal",children:(0,a.jsxs)(l.$,{variant:"outline",size:"sm",className:"hover-lift h-7 text-xs px-2",children:[(0,a.jsx)(x.A,{className:"h-3 w-3 mr-1"}),"Back"]})})})]}),(0,a.jsxs)("div",{className:"grid gap-3 lg:grid-cols-3",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsx)("form",{onSubmit:ei,children:(0,a.jsxs)(c.Zp,{className:"animated-gradient-border rounded-2xl bg-white shadow-[0_20px_60px_rgba(0,0,0,0.15)] dark:bg-slate-900 overflow-hidden min-h-[600px] md:min-h-[700px] transition-all duration-500 hover:shadow-[0_30px_80px_rgba(0,0,0,0.2)]",children:[(0,a.jsx)(c.aR,{className:"pb-2 px-4 pt-4 relative z-10",children:(0,a.jsxs)(c.ZB,{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(h.A,{className:"h-3 w-3 text-primary"}),"Goal Details"]})}),(0,a.jsxs)(c.Wu,{className:"space-y-3 px-4 pb-4 relative z-10 overflow-y-auto max-h-[calc(100vh-300px)] md:max-h-none",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(n.J,{className:"text-xs font-medium",children:"Duration"}),(0,a.jsx)(u.z,{value:e,onValueChange:e=>s(e),children:(0,a.jsxs)("div",{className:"grid gap-1.5 sm:grid-cols-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-2 rounded border transition-all cursor-pointer hover:bg-accent/30 ".concat("annual"===e?"border-primary bg-primary/5":"border-border"),children:[(0,a.jsx)(u.C,{value:"annual",id:"annual"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(n.J,{htmlFor:"annual",className:"font-medium cursor-pointer text-xs",children:"Annual"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"12m"})]}),(0,a.jsx)(p.A,{className:"h-3 w-3 text-blue-500"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-2 rounded border transition-all cursor-pointer hover:bg-accent/30 ".concat("quarterly"===e?"border-primary bg-primary/5":"border-border"),children:[(0,a.jsx)(u.C,{value:"quarterly",id:"quarterly"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(n.J,{htmlFor:"quarterly",className:"font-medium cursor-pointer text-xs",children:"Quarterly"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"3m"})]}),(0,a.jsx)(h.A,{className:"h-3 w-3 text-green-500"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-2 rounded border transition-all cursor-pointer hover:bg-accent/30 ".concat("biannual"===e?"border-primary bg-primary/5":"border-border"),children:[(0,a.jsx)(u.C,{value:"biannual",id:"biannual"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(n.J,{htmlFor:"biannual",className:"font-medium cursor-pointer text-xs",children:"Bi-Annual"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"6m"})]}),(0,a.jsx)(f.A,{className:"h-3 w-3 text-purple-500"})]})]})})]}),(0,a.jsxs)("div",{className:"grid gap-1.5 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.J,{className:"text-xs font-medium",children:"Year"}),(0,a.jsxs)(o.l6,{value:L.toString(),onValueChange:e=>G(parseInt(e)),children:[(0,a.jsx)(o.bq,{className:"h-7 text-xs focus-ring",children:(0,a.jsx)(o.yv,{})}),(0,a.jsx)(o.gC,{children:Array.from({length:3},(e,s)=>{let t=new Date().getFullYear()+s;return(0,a.jsx)(o.eb,{value:t.toString(),className:"text-xs",children:t},t)})})]})]}),"quarterly"===e&&(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.J,{className:"text-xs font-medium",children:"Quarter"}),(0,a.jsxs)(o.l6,{value:P.toString(),onValueChange:e=>D(parseInt(e)),children:[(0,a.jsx)(o.bq,{className:"h-7 text-xs focus-ring",children:(0,a.jsx)(o.yv,{})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"1",className:"text-xs",children:"Q1 (Jan-Mar)"}),(0,a.jsx)(o.eb,{value:"2",className:"text-xs",children:"Q2 (Apr-Jun)"}),(0,a.jsx)(o.eb,{value:"3",className:"text-xs",children:"Q3 (Jul-Sep)"}),(0,a.jsx)(o.eb,{value:"4",className:"text-xs",children:"Q4 (Oct-Dec)"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)(n.J,{htmlFor:"title",className:"text-xs font-medium",children:["Goal Title ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(i.p,{id:"title",placeholder:"e.g., Master Spanish Language, Complete Marathon Training",value:t,onChange:e=>w(e.target.value),className:"h-8 text-xs focus-ring",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)(n.J,{htmlFor:"description",className:"text-xs font-medium",children:["Description ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(d.T,{id:"description",placeholder:"Describe your seasonal commitment and what success looks like...",value:q,onChange:e=>R(e.target.value),rows:2,className:"text-xs focus-ring resize-none",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(n.J,{className:"text-xs font-medium",children:["Goal Nature ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsx)(u.z,{value:Z,onValueChange:e=>$(e),children:(0,a.jsxs)("div",{className:"grid gap-2 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-2 rounded-md border transition-all cursor-pointer hover:bg-accent/30 ".concat("personal"===Z?"border-primary bg-primary/5":"border-border"),children:[(0,a.jsx)(u.C,{value:"personal",id:"personal"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(n.J,{htmlFor:"personal",className:"font-medium cursor-pointer text-xs",children:"Personal Goal"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Just for you"})]}),(0,a.jsx)(h.A,{className:"h-3 w-3 text-muted-foreground"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-2 rounded-md border transition-all cursor-pointer hover:bg-accent/30 ".concat("group"===Z?"border-primary bg-primary/5":"border-border"),children:[(0,a.jsx)(u.C,{value:"group",id:"group"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(n.J,{htmlFor:"group",className:"font-medium cursor-pointer text-xs",children:"Group Goal"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Owner included + up to 4 others (max 5)"})]}),(0,a.jsx)(v.A,{className:"h-3 w-3 text-muted-foreground"})]})]})})]}),"group"===Z&&(0,a.jsxs)("div",{className:"space-y-4 p-4 rounded-lg bg-muted/30 border-2 border-primary/20",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-sm font-medium",children:"Group Members"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Owner is automatically included. Add up to 4 more members (max 5 total)."})]}),(0,a.jsxs)(m.E,{variant:"outline",children:[U.length,"/5"]})]}),(0,a.jsxs)(o.l6,{value:"",onValueChange:e=>{!U.includes(e)&&U.length<5&&X([...U,e])},children:[(0,a.jsx)(o.bq,{children:(0,a.jsx)(o.yv,{placeholder:"Add a member..."})}),(0,a.jsx)(o.gC,{children:el.filter(e=>e.id!==(null==ee?void 0:ee.id)).filter(e=>!U.includes(e.id)).map(e=>(0,a.jsx)(o.eb,{value:e.id,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium",children:e.name.charAt(0)})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["@",e.username]})]})]})},e.id))})]}),U.length>0&&(0,a.jsx)("div",{className:"space-y-2",children:U.map(e=>{let s=el.find(s=>s.id===e);return s?(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-md bg-background border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium",children:s.name.charAt(0)})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:s.name}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["@",s.username]})]})]}),e!==(null==ee?void 0:ee.id)&&(0,a.jsx)(l.$,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>X(U.filter(s=>s!==e)),children:(0,a.jsx)(g.A,{className:"h-4 w-4"})})]},e):null})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(n.J,{children:["Category ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)(o.l6,{value:M,onValueChange:E,children:[(0,a.jsx)(o.bq,{children:(0,a.jsx)(o.yv,{placeholder:"Select category"})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"health-fitness",children:"Health & Fitness"}),(0,a.jsx)(o.eb,{value:"learning",children:"Learning & Education"}),(0,a.jsx)(o.eb,{value:"career",children:"Career & Business"}),(0,a.jsx)(o.eb,{value:"creative",children:"Creative Arts"}),(0,a.jsx)(o.eb,{value:"personal",children:"Personal Growth"}),(0,a.jsx)(o.eb,{value:"relationships",children:"Relationships"}),(0,a.jsx)(o.eb,{value:"finance",children:"Finance"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n.J,{children:["Key Milestones ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)(l.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{F([...J,""])},children:[(0,a.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Add Milestone"]})]}),(0,a.jsx)("div",{className:"space-y-3",children:J.map((e,s)=>(0,a.jsx)("div",{className:"space-y-2 p-3 rounded-lg border bg-card",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.p,{placeholder:"Milestone ".concat(s+1),value:e,onChange:e=>((e,s)=>{let t=[...J];t[e]=s,F(t)})(s,e.target.value),required:!0}),J.length>1&&(0,a.jsx)(l.$,{type:"button",variant:"outline",size:"icon",onClick:()=>{F(J.filter((e,t)=>t!==s))},children:(0,a.jsx)(g.A,{className:"h-4 w-4"})})]})},s))})]}),"personal"===Z&&(0,a.jsxs)("div",{className:"space-y-4 p-4 rounded-lg bg-muted/30",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-sm font-medium",children:"Accountability Partners"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Optional: Select partners to help keep you accountable"})]}),(0,a.jsxs)(o.l6,{value:"",onValueChange:e=>{if(Q.length>=2)return void C.oR.error("You can select up to 2 partners");Q.includes(e)||K([...Q,e])},children:[(0,a.jsx)(o.bq,{children:(0,a.jsx)(o.yv,{placeholder:"Add an accountability partner..."})}),(0,a.jsx)(o.gC,{children:0===et.length?(0,a.jsxs)("div",{className:"p-4 text-center text-muted-foreground",children:[(0,a.jsx)(v.A,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{className:"text-sm mb-2",children:"No accountability partners available"}),(0,a.jsx)("p",{className:"text-xs",children:"You can add partners later from your Partners page."})]}):et.filter(e=>!Q.includes(e.id)).map(e=>(0,a.jsx)(o.eb,{value:e.id,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium",children:e.name.charAt(0)})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["@",e.username]})]})]})},e.id))})]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Selected ",Q.length,"/2"]}),Q.length>0&&(0,a.jsx)("div",{className:"space-y-2",children:Q.map(e=>{let s=et.find(s=>s.id===e);return s?(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-md bg-background border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium",children:s.name.charAt(0)})}),(0,a.jsx)("div",{className:"text-sm font-medium",children:s.name})]}),(0,a.jsx)(l.$,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>K(Q.filter(s=>s!==e)),children:(0,a.jsx)(g.A,{className:"h-3 w-3"})})]},e):null})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(n.J,{className:"text-sm font-medium",children:["Visibility ",(0,a.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,a.jsxs)(o.l6,{value:Y,onValueChange:e=>H(e),children:[(0,a.jsx)(o.bq,{children:(0,a.jsx)(o.yv,{})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"private",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.A,{className:"h-4 w-4"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Private"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Only you can see"})]})]})}),(0,a.jsx)(o.eb,{value:"restricted",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-4 w-4"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Partners Only"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Only your partners can see"})]})]})}),(0,a.jsx)(o.eb,{value:"public",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"h-4 w-4"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Public"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Everyone can see"})]})]})})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,a.jsx)(k(),{href:"/goals/seasonal",className:"flex-1",children:(0,a.jsx)(l.$,{type:"button",variant:"outline",className:"w-full h-7 text-xs hover-lift",children:"Cancel"})}),(0,a.jsx)(l.$,{type:"submit",className:"flex-1 h-7 text-xs hover-lift",disabled:T||!t.trim()||!q.trim()||!M||0===J.filter(e=>e.trim()).length,children:T?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-3 w-3"}),"Create Goal"]})})]})]})]})})}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)(c.Zp,{className:"hover-lift",children:[(0,a.jsxs)(c.aR,{className:"pb-2",children:[(0,a.jsxs)(c.ZB,{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(N.A,{className:"h-3 w-3 text-yellow-500"}),"Templates"]}),(0,a.jsxs)(c.BT,{className:"text-xs",children:[e," ideas"]})]}),(0,a.jsx)(c.Wu,{className:"space-y-2",children:z[e].map((e,s)=>(0,a.jsx)(l.$,{variant:"outline",className:"w-full justify-start h-auto p-2 hover-lift",onClick:()=>{w(e.title),R(e.description),E(e.category),F(e.milestones||[""]),V(e)},children:(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"font-medium text-xs",children:e.title}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground line-clamp-2",children:e.description}),(0,a.jsx)(m.E,{variant:"secondary",className:"text-xs mt-1",children:e.category.replace("-"," ")})]})},s))})]})})]})]})})}},10489:(e,s,t)=>{"use strict";t.d(s,{b:()=>n});var a=t(12115),r=t(97602),l=t(95155),i=a.forwardRef((e,s)=>(0,l.jsx)(r.sG.label,{...e,ref:s,onMouseDown:s=>{var t;s.target.closest("button, input, select, textarea")||(null==(t=e.onMouseDown)||t.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var n=i},16485:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},17666:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},17982:(e,s,t)=>{"use strict";t.d(s,{C:()=>d,z:()=>n});var a=t(95155);t(12115);var r=t(24058),l=t(99051),i=t(25016);function n(e){let{className:s,...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"radio-group",className:(0,i.cn)("grid gap-3",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)(r.q7,{"data-slot":"radio-group-item",className:(0,i.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:(0,a.jsx)(r.C1,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,a.jsx)(l.A,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}},24058:(e,s,t)=>{"use strict";t.d(s,{C1:()=>F,bL:()=>D,q7:()=>J});var a=t(12115),r=t(92556),l=t(94446),i=t(3468),n=t(97602),d=t(72431),c=t(23558),o=t(66218),u=t(84288),m=t(78108),x=t(76842),h=t(95155),p="Radio",[f,v]=(0,i.A)(p),[g,j]=f(p),b=a.forwardRef((e,s)=>{let{__scopeRadio:t,name:i,checked:d=!1,required:c,disabled:o,value:u="on",onCheck:m,form:x,...p}=e,[f,v]=a.useState(null),j=(0,l.s)(s,e=>v(e)),b=a.useRef(!1),y=!f||x||!!f.closest("form");return(0,h.jsxs)(g,{scope:t,checked:d,disabled:o,children:[(0,h.jsx)(n.sG.button,{type:"button",role:"radio","aria-checked":d,"data-state":k(d),"data-disabled":o?"":void 0,disabled:o,value:u,...p,ref:j,onClick:(0,r.mK)(e.onClick,e=>{d||null==m||m(),y&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})}),y&&(0,h.jsx)(w,{control:f,bubbles:!b.current,name:i,value:u,checked:d,required:c,disabled:o,form:x,style:{transform:"translateX(-100%)"}})]})});b.displayName=p;var y="RadioIndicator",N=a.forwardRef((e,s)=>{let{__scopeRadio:t,forceMount:a,...r}=e,l=j(y,t);return(0,h.jsx)(x.C,{present:a||l.checked,children:(0,h.jsx)(n.sG.span,{"data-state":k(l.checked),"data-disabled":l.disabled?"":void 0,...r,ref:s})})});N.displayName=y;var w=a.forwardRef((e,s)=>{let{__scopeRadio:t,control:r,checked:i,bubbles:d=!0,...c}=e,o=a.useRef(null),x=(0,l.s)(o,s),p=(0,m.Z)(i),f=(0,u.X)(r);return a.useEffect(()=>{let e=o.current;if(!e)return;let s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(p!==i&&s){let t=new Event("click",{bubbles:d});s.call(e,i),e.dispatchEvent(t)}},[p,i,d]),(0,h.jsx)(n.sG.input,{type:"radio","aria-hidden":!0,defaultChecked:i,...c,tabIndex:-1,ref:x,style:{...c.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function k(e){return e?"checked":"unchecked"}w.displayName="RadioBubbleInput";var _=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],C="RadioGroup",[A,S]=(0,i.A)(C,[d.RG,v]),z=(0,d.RG)(),q=v(),[R,M]=A(C),E=a.forwardRef((e,s)=>{let{__scopeRadioGroup:t,name:a,defaultValue:r,value:l,required:i=!1,disabled:u=!1,orientation:m,dir:x,loop:p=!0,onValueChange:f,...v}=e,g=z(t),j=(0,o.jH)(x),[b,y]=(0,c.i)({prop:l,defaultProp:null!=r?r:null,onChange:f,caller:C});return(0,h.jsx)(R,{scope:t,name:a,required:i,disabled:u,value:b,onValueChange:y,children:(0,h.jsx)(d.bL,{asChild:!0,...g,orientation:m,dir:j,loop:p,children:(0,h.jsx)(n.sG.div,{role:"radiogroup","aria-required":i,"aria-orientation":m,"data-disabled":u?"":void 0,dir:j,...v,ref:s})})})});E.displayName=C;var L="RadioGroupItem",G=a.forwardRef((e,s)=>{let{__scopeRadioGroup:t,disabled:i,...n}=e,c=M(L,t),o=c.disabled||i,u=z(t),m=q(t),x=a.useRef(null),p=(0,l.s)(s,x),f=c.value===n.value,v=a.useRef(!1);return a.useEffect(()=>{let e=e=>{_.includes(e.key)&&(v.current=!0)},s=()=>v.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",s),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",s)}},[]),(0,h.jsx)(d.q7,{asChild:!0,...u,focusable:!o,active:f,children:(0,h.jsx)(b,{disabled:o,required:c.required,checked:f,...m,...n,name:c.name,ref:p,onCheck:()=>c.onValueChange(n.value),onKeyDown:(0,r.mK)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,r.mK)(n.onFocus,()=>{var e;v.current&&(null==(e=x.current)||e.click())})})})});G.displayName=L;var P=a.forwardRef((e,s)=>{let{__scopeRadioGroup:t,...a}=e,r=q(t);return(0,h.jsx)(N,{...r,...a,ref:s})});P.displayName="RadioGroupIndicator";var D=E,J=G,F=P},35626:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},39068:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},39347:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},47507:(e,s,t)=>{"use strict";t.d(s,{bq:()=>u,eb:()=>x,gC:()=>m,l6:()=>c,yv:()=>o});var a=t(95155);t(12115);var r=t(98229),l=t(24033),i=t(5917),n=t(12108),d=t(25016);function c(e){let{...s}=e;return(0,a.jsx)(r.bL,{"data-slot":"select",...s})}function o(e){let{...s}=e;return(0,a.jsx)(r.WT,{"data-slot":"select-value",...s})}function u(e){let{className:s,size:t="default",children:i,...n}=e;return(0,a.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":t,className:(0,d.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...n,children:[i,(0,a.jsx)(r.In,{asChild:!0,children:(0,a.jsx)(l.A,{className:"size-4 opacity-50"})})]})}function m(e){let{className:s,children:t,position:l="popper",...i}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{"data-slot":"select-content",className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...i,children:[(0,a.jsx)(h,{}),(0,a.jsx)(r.LM,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(p,{})]})})}function x(e){let{className:s,children:t,...l}=e;return(0,a.jsxs)(r.q7,{"data-slot":"select-item",className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...l,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(i.A,{className:"size-4"})})}),(0,a.jsx)(r.p4,{children:t})]})}function h(e){let{className:s,...t}=e;return(0,a.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(n.A,{className:"size-4"})})}function p(e){let{className:s,...t}=e;return(0,a.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(l.A,{className:"size-4"})})}},67001:(e,s,t)=>{"use strict";t.d(s,{T:()=>l});var a=t(95155);t(12115);var r=t(25016);function l(e){let{className:s,...t}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...t})}},83209:(e,s,t)=>{"use strict";t.d(s,{BT:()=>d,Wu:()=>c,ZB:()=>n,Zp:()=>l,aR:()=>i});var a=t(95155);t(12115);var r=t(25016);function l(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function i(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function n(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",s),...t})}},89316:(e,s,t)=>{Promise.resolve().then(t.bind(t,2219))},90235:(e,s,t)=>{"use strict";t.d(s,{J:()=>i});var a=t(95155);t(12115);var r=t(10489),l=t(25016);function i(e){let{className:s,...t}=e;return(0,a.jsx)(r.b,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}},99051:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},99708:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{e.O(0,[297,5707,8760,1370,3224,6227,8720,7928,9885,8441,1255,7358],()=>e(e.s=89316)),_N_E=e.O()}]);